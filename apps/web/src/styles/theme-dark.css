/**
 * theme-dark.css
 * 暗色主题（仅覆盖“语义令牌”颜色相关变量）
 * 设计原则：
 * - 仅改 Tier 2（语义层）颜色，不碰 Tier 1 原始值与组件层尺寸
 * - 依据提供的暗色色板（近黑背景、浅色文字、柔和边框、低饱和蓝链接）
 * - 可与 .dark 类联动：html.dark 或 body.dark 皆可
 */

:root.dark,
.dark {
  /* 背景（页面/容器/卡片） */
  --color-bg-page: #171717;         /* 近黑页面背景（来自 palette #171717） */
  --color-bg-primary: #1f1f1f;      /* 主容器背景层 */
  --color-bg-secondary: #1a1a1a;    /* 次级容器/分组背景 */
  --color-bg-muted: #0f0f0f;        /* 更深一层（如折叠层/极暗分层） */
  --color-bg-card: #1a1a1a;         /* 卡片背景 */

  /* 文本（主/次/弱/反色） */
  --color-text-primary: #f5f5f5;    /* 主要文字（来自 palette 0.96 ≈ #f5f5f5） */
  --color-text-secondary: #a3a3a3;  /* 次要说明文字（palette 灰400） */
  --color-text-muted: #737373;      /* 冷静弱化（palette 灰500） */
  --color-text-inverse: #0f0f0f;    /* 反色（深背景上的浅组件内部文字可用白，此为相对反向占位） */
  --color-text-price: var(--color-text-primary);

  /* 边框（默认/加深/弱化/悬浮） */
  --color-border-default: #2d2d2d;  /* palette ≈ #2d2d2d */
  --color-border-strong: #404040;   /* 更明显的分隔线 */
  --color-border-subtle: #1f1f1f;   /* 几乎融入背景 */
  --color-border-hover: #404040;

  /* 交互/选中/悬浮底 */
  --color-surface-hover: #1e1e1e;   /* 悬浮弱底 */
  --color-selected-bg: #222222;     /* 选中弱底 */
  --color-selected-border: #3a3a3a;

  /* 焦点环（暗色下使用浅色透明外发光） */
  --color-focus-ring: rgba(255, 255, 255, 0.10);

  /* 语义状态（沿用原功能色，必要时可降饱和） */
  --color-danger: #ef4444;          /* 可按需微调为暗色更和谐版本 */
  --color-danger-hover: #f87171;
  --color-success: #22c55e;
  --color-warning: #f59e0b;
  --color-info: #38bdf8;

  /* 链接（暗色下的低饱和蓝） */
  --link-color: #6699cc;            /* palette 推断的 0.4/0.6/0.8 蓝系 ≈ #6699cc */
  --link-hover-color: #7fb0de;      /* hover 稍微提亮 */
  --link-visited: #90b8e6;
  --link-disabled: var(--color-text-secondary);

  /* 强调色（Accent） */
  --accent-primary: #6699cc;
  --accent-hover: #7fb0de;
  --accent-active: #4e7fb5;
  --accent-contrast-on: #ffffff;

  /* 便捷别名（与语义 token 对齐） */
  --bg-base: var(--color-bg-card);
  --bg-secondary: var(--color-bg-secondary);
  --bg-hover: var(--color-surface-hover);
  --bg-active: var(--color-selected-bg);
  --bg-disabled: #2a2a2a;

  --border-default: var(--color-border-default);
  --border-dark: var(--color-border-strong);
  --border-light: var(--color-border-subtle);

  --text-primary: var(--color-text-primary);
  --text-secondary: var(--color-text-secondary);
  --text-tertiary: var(--color-text-muted);
  --text-muted: var(--color-text-muted);
  --text-inverse: var(--color-text-inverse);
  --text-price: var(--color-text-primary);

  /* 成功/警告/错误/信息弱化背景与边框（暗色下调亮度与对比） */
  --success-soft-bg: rgba(34, 197, 94, 0.12);
  --success-border: rgba(34, 197, 94, 0.32);
  --warning-soft-bg: rgba(245, 158, 11, 0.12);
  --warning-border: rgba(245, 158, 11, 0.32);
  --danger-soft-bg: rgba(239, 68, 68, 0.12);
  --danger-border: rgba(239, 68, 68, 0.32);
  --info-soft-bg: rgba(56, 189, 248, 0.12);
  --info-border: rgba(56, 189, 248, 0.32);

  /* 覆盖喜欢/分割线等 */
  --favorite-icon-default: var(--color-text-secondary);
  --favorite-icon-hover: var(--color-text-primary);
  --favorite-icon-active: var(--link-color);
  --divider-color: var(--color-border-default);

  /* 滚动条（暗色中性） */
  --neutral-scrollbar-color: #4a4a4a;
  --neutral-scrollbar-hover-color: #6b6b6b;

  /* 蒙层（暗色半透明） */
  --overlay-light-90: rgba(255, 255, 255, 0.06);
  --overlay-dark-75: rgba(0, 0, 0, 0.75);

  /* Element Plus 主题中性色调（保持中性灰，不用高饱和） */
  --el-color-primary: #5b6472;
  --el-color-primary-light-1: #6b7583;
  --el-color-primary-light-3: #8a93a0;
  --el-color-primary-light-5: #c7ccd3;
  --el-color-primary-light-7: #e6e9ed;
  --el-color-primary-light-8: #eff1f4;
  --el-color-primary-light-9: #f7f8fa;
  --el-color-primary-dark-2: #3c475b;
}

/* 可选：暗色下的组件按钮细化（如需更强对比，可打开以下规则）
.dark {
  --button-primary-bg: var(--link-color);
  --button-primary-hover-bg: var(--link-hover-color);
  --button-primary-color: var(--color-text-inverse);
} */
