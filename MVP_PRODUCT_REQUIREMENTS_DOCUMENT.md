# 澳洲租房小程序 (JUWO) - MVP 产品需求文档

**版本**: 1.2 (最终确认版)
**状态**: 已确认
**负责人**: Cline (AI 软件工程师)

---

## 1. 产品概述 (Product Overview)

### 1.1. 愿景 (Vision)

成为海外留学生在澳洲最信赖的、一站式的租房解决方案平台，消除信息差，解决执行难的问题。

### 1.2. 目标用户 (Target Audience)

以 **Lucy** 为代表的、身在海外、即将入读澳洲大学（初期以悉尼为主）的中国留学生。他们对本地租房市场不熟，时间紧迫，且无法亲自看房。

### 1.3. 核心价值主张 (Core Value Proposition)

* **智能向导式筛选**: 通过“ 输入区域/区号--选定一个或几个区域 -> 选价格范围 -> 选卧室-> 选浴室 -> 选车位 -> 选日期段（xx年xx月xx日-xx年xx月xx日 空出的房源 -> 打开（关闭）家具按钮->查找 ”的流程，极大地简化找房过程。
* **信任代理**: 通过“联系我们”服务，为无法亲自操作的海外学生提供可靠的本地支持。

---

## 2. 核心用户故事 (MVP - P0 优先级)

* **智能向导式筛选**: "作为 Lucy，当我选择了‘悉尼大学’后，我希望系统能立即为我推荐并默认选中所有热门周边区域，同时我也可以自由地增删这些区域，或从一个完整的区域列表中选择。然后，我再选择我的入住时间范围，从而一步步地、智能地完成我的精准筛选。"
* **比较与收藏**: "作为 Lucy，我希望能收藏几个备选方案，并在登录后能随时查看，方便我和家人一起商量。"
* **回顾与发现**: "作为 Lucy，我希望能看到我浏览过的历史记录，以防我忘记了某个感兴趣的房源。"
* **跨平台与状态保持**: "作为 Lucy，我希望我的所有操作（如选择的学校）都能在电脑和手机上同步，不需要重复设置。"

---

## 3. 功能需求详述 (Functional Requirements)

### 3.1. 区域筛选 (对标 Domain)

* **UI**: 在列表页顶部提供一个核心的“自动补全搜索框”，提示用户“输入区域或邮编”。
  * 当用户输入时，下方会实时弹出建议列表。
  * 用户可以选择一个或多个区域，选中的区域会以“标签”的形式显示在搜索框中。
* **API**:
  * 需要一个 `GET /api/locations/autocomplete?query={userInput}` 接口，用于根据用户输入实时返回区域建议。
  * `GET /api/listings` 接口需支持多区域参数（如 `suburbs=glebe,newtown,ultimo`）。

### 3.2. 高级日期筛选

* **UI**: 在筛选器中提供一个双日期选择器（起始日期 & 结束日期）。
* **API**: `GET /api/listings` 接口需支持 `available_from` 和 `available_to` 参数。

### 3.3. 用户认证

* **流程**: 支持微信一键登录和邮箱+验证码登录。
* **状态管理**: 登录成功后，前端需持久化存储认证状态（如 JWT Token）。
* **API**: `POST /auth/login_wechat`, `POST /auth/login_email_code`。

### 3.4. 收藏功能

* **权限**: 必须登录后才能使用。
* **UI**: 列表页和详情页提供心形收藏按钮，根据收藏状态实时更新 UI（空心/实心）。
* **API**: `POST /favorites/toggle`, `GET /favorites`。

### 3.5. 历史记录

* **权限**: 必须登录后才能记录。
* **触发**: 用户进入详情页时自动触发。
* **API**: `POST /history/track`, `GET /history`。

### 3.6. 联系我们

* **UI**: 在详情页提供主要的“联系我们”行动号召按钮。
* **流程**: 点击后弹出表单，预填房源信息（ID, 标题, URL）。
* **API**: `POST /contact_requests`。

### 3.7. “我的”中心

* **UI**: 包含“我的收藏”和“浏览历史”两个标签页，清晰地展示列表。
* **权限**: 未登录时显示登录提示。

## 5. Post-MVP 规划 (P1 & P2 优先级)

* **P1 - 保存筛选条件**: 允许用户保存常用的筛选组合。
* **P1 - 社交分享**: 允许用户一键将房源信息分享到微信。
* **P2 - AI 选房助手**: 分析用户收藏的房源并提供决策建议。
* **P2 - 市场洞察**: 展示各区域不同房型的租金中位价。
