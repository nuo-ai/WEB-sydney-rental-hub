# 前端设计系统与组件资产盘点报告

作为您的 Design System 审计专家，我已对当前前端代码库完成全面盘点。本报告旨在为后续生成可视化文档（Design System Dashboard）提供数据基础。

---

## 1. Token Definitions

设计令牌是系统的基础，通过 Style Dictionary 工具进行管理，源文件为 `tokens/design-tokens.json`。令牌被编译为 CSS 自定义属性，在 `vue-frontend/src/generated-tokens/css/variables.css` 中输出。

| Token 名称 (Name) | 示例值 (Value) | 来源 (Source) | 用途 (Usage) |
| :--- | :--- | :--- | :--- |
| `color.brand.primary` | `#0057ff` | `design-tokens.json` | 品牌主色，用于关键操作 |
| `color.semantic.text.primary` | `var(--color-gray-800)` | `design-tokens.json` | 主要文字颜色 |
| `font.size.md` | `14px` | `design-tokens.json` | 中号字体（正文） |
| `font.weight.bold` | `700` | `design-tokens.json` | 加粗字重 |
| `space.md` | `12px` | `design-tokens.json` | 中等间距 |
| `radius.lg` | `12px` | `design-tokens.json` | 大圆角 |
| `shadow.md` | `0 4px 6px -1px rgba(...)` | `design-tokens.json` | 中等阴影 |

```json
{
  "tokens": [
    { "name": "color.brand.primary", "value": "#0057ff", "source": "tokens/design-tokens.json", "description": "品牌主色" },
    { "name": "color.gray.500", "value": "#6b7280", "source": "tokens/design-tokens.json", "description": "中性灰 500" },
    { "name": "font.size.md", "value": "14px", "source": "tokens/design-tokens.json", "description": "中号字体" },
    { "name": "space.md", "value": "12px", "source": "tokens/design-tokens.json", "description": "中间距" },
    { "name": "radius.md", "value": "8px", "source": "tokens/design-tokens.json", "description": "中圆角" },
    { "name": "shadow.md", "value": "0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)", "source": "tokens/design-tokens.json", "description": "中阴影" }
  ]
}
```

---

## 2. Typography System

排版系统定义在 `tokens/design-tokens.json` (尺寸、字重) 和 `vue-frontend/src/styles/typography.css` (语义角色、字体家族) 中，结构清晰，分为三层。

*   **字体家族**:
    *   通过 CSS 变量 `--font-family-zh-sans` (中文) 和 `--font-family-en-sans` (英文) 进行控制。
*   **字体层级 (Scale)**:
    *   **原始层级**: 定义了从 `xs` (12px) 到 `xl` (18px) 的多个尺寸。
    *   **语义层级**: 定义了如 `body-default`, `heading-page`, `price-primary` 等丰富的语义化排版角色。
*   **工具类**: 提供了 `.typo-body`, `.typo-heading-section` 等工具类方便直接在模板中使用。

| 角色 (Role) | 尺寸 (Size) | 字重 (Weight) | 行高 (Line Height) |
| :--- | :--- | :--- | :--- |
| `heading-page` | `40px` | `700` | `tight` |
| `heading-section` | `32px` | `700` | `tight` |
| `body-default` | `14px` | `400` | `relaxed` |
| `body-small` | `13px` | `400` | `normal` |
| `button-primary` | `14px` | `500` | `normal` |

---

## 3. Color System

色彩系统在 `tokens/design-tokens.json` 中定义，逻辑清晰，分为三类：

*   **基础色 (Primitive)**: 包括 `white`, `black`, 以及从 50 到 900 的完整灰阶 (`gray`)。
*   **品牌色 (Brand)**: 定义了 `primary`, `hover`, `active` 等状态的品牌色。
*   **语义色 (Semantic)**: 定义了如 `bg-primary`, `text-primary`, `border-default` 等与上下文相关的语义化颜色，这些颜色引用自基础色，易于主题切换。

实际使用中，颜色通过 CSS 自定义属性（如 `var(--color-text-primary)`）在 `.css` 和 `.vue` 文件中被广泛消费。

```json
{
  "colors": [
    { "category": "Brand", "name": "brand-primary", "value": "#0057ff" },
    { "category": "Gray Scale", "name": "gray-50", "value": "#f9fafb" },
    { "category": "Gray Scale", "name": "gray-900", "value": "#111827" },
    { "category": "Semantic", "name": "semantic-bg-primary", "value": "ref: color.white" },
    { "category": "Semantic", "name": "semantic-text-primary", "value": "ref: color.gray.800" }
  ]
}
```

---

## 4. Component Library

组件主要位于 `vue-frontend/src/components` 目录下，结构合理，分为基础组件、通用组件和业务组件。

| 组件路径 (Path) | 描述 (Description) | 是否复用 (Reusable) | Storybook 文档 |
| :--- | :--- | :--- | :--- |
| `base/BaseButton.vue` | 基础按钮，原子组件 | 极高 (High) | ✅ Yes |
| `base/BaseChip.vue` | 基础标签，原子组件 | 极高 (High) | ✅ Yes |
| `base/BaseSearchInput.vue` | 基础搜索输入框 | 高 (High) | ❌ No |
| `common/BottomSheet.vue` | 移动端底部弹出面板 | 高 (High) | ❌ No |
| `PropertyCard.vue` | 房源卡片，核心业务组件 | 高 (High) | ✅ Yes |
| `FilterPanel.vue` | 筛选面板容器 | 中 (Medium) | ✅ Yes |
| `modals/AuthModal.vue` | 用户认证模态框 | 低 (Low) | ❌ No |

```json
{
  "components": [
    { "path": "base/BaseButton.vue", "description": "基础按钮", "reusable": "High", "has_storybook": true },
    { "path": "PropertyCard.vue", "description": "房源卡片", "reusable": "High", "has_storybook": true },
    { "path": "filter-panels/AreaFilterPanel.vue", "description": "区域筛选面板", "reusable": "Low", "has_storybook": false },
    { "path": "modals/AuthModal.vue", "description": "用户认证模态框", "reusable": "Low", "has_storybook": false }
  ]
}
```

---

## 5. Styling Methodology

项目采用了一套现代且健壮的样式方案。

*   **核心技术**: **Style Dictionary + CSS 自定义属性**。设计令牌在 `JSON` 中维护，通过 `style-dictionary` 编译为 CSS 变量，实现了设计与开发的分离。
*   **CSS 组织**:
    *   全局样式入口为 `src/style.css`，负责导入令牌、排版和覆盖第三方库样式。
    *   模块化 CSS 文件存在于 `src/styles` 目录。
    *   组件样式采用 Vue 的单文件组件（SFC） `<style>` 块，大部分为 `scoped`，避免了全局污染。
*   **辅助工具**:
    *   **Prettier** 和 **ESLint** 用于代码格式化和质量检查。
    *   **Stylelint** 用于 CSS 规范检查。
*   **未使用的技术**: 项目**没有**使用 Tailwind CSS, CSS Modules, 或任何 CSS-in-JS 库 (如 Styled Components, Emotion)。

---

## 6. File Health Report

基于 `git log` 提供的文件最后修改日期（截至 2025-10-07），我们可以对组件文件进行健康度评估。

| 状态 (Status) | 文件路径 (Path) | 最后修改日期 (Last Modified) |
| :--- | :--- | :--- |
| 🟢 **活跃 (Active)** | `base/BaseButton.vue` | `2025-10-05` |
| 🟢 **活跃 (Active)** | `PropertyCard.vue` | `2025-10-05` |
| 🟢 **活跃 (Active)** | `FilterTabs.vue` | `2025-10-05` |
| 🟡 **稳定 (Stale)** | `VirtualPropertyList.vue` | `2025-09-12` |
| 🟡 **稳定 (Stale)** | `GoogleMap.vue` | `2025-09-20` |
| 🔴 **过时 (Outdated)** | `icons/IconEcosystem.vue` | `2025-08-23` |
| 🔴 **过时 (Outdated)** | `icons/IconTooling.vue` | `2025-08-23` |

**冗余文件分析 (Unused Files)**:
静态分析难以 100% 确定冗余。但基于文件命名和日期，`icons/IconCommunity.vue`, `icons/IconDocumentation.vue` 等文件修改日期非常早，且可能未在当前业务逻辑中使用，建议进行引用检查。

```json
{
  "file_health": [
    { "path": "base/BaseButton.vue", "status": "Active", "last_modified": "2025-10-05" },
    { "path": "VirtualPropertyList.vue", "status": "Stale", "last_modified": "2025-09-12" },
    { "path": "icons/IconEcosystem.vue", "status": "Outdated", "last_modified": "2025-08-23" }
  ]
}
```

---

## 7. Framework & Build System

项目技术栈现代、清晰。

*   **框架 (Framework)**: **Vue.js** (`^3.5.18`)
*   **构建工具 (Build Tool)**: **Vite** (`^7.0.6`)
*   **状态管理 (State Management)**: **Pinia** (`^3.0.3`)
*   **路由 (Routing)**: **Vue Router** (`^4.5.1`)
*   **UI 库 (UI Library)**: **Element Plus** (`^2.11.0`)，并进行了大量样式覆盖以符合设计系统。
*   **组件文档与测试 (Docs & Testing)**:
    *   **Storybook** (`^9.1.10`) 用于组件的可视化、文档和测试。
    *   **Vitest** 和 **Playwright** 用于单元、组件和端到端测试。
*   **脚本 (Scripts)**:
    *   `dev`: 启动 Vite 开发服务器。
    *   `build`: 使用 Vite 打包生产。
    *   `storybook`: 运行 Storybook。
    *   `build:tokens`: 运行 Style Dictionary 构建脚本。

本报告反映了截至分析日期的项目现状。
