/* JUWO桔屋找房 - 全局样式系统 */

/* ========== JUWO品牌色彩系统 ========== */
:root {
  /* JUWO主品牌色 #FF5824 */
  --juwo-primary: #ff5824;
  --juwo-primary-light: #ff7851;
  --juwo-primary-dark: #e64100;
  --juwo-primary-50: #fff3f0;
  --juwo-primary-100: #ffe5d9;
  --juwo-primary-500: #ff5824;
  --juwo-primary-600: #e64100;
  --juwo-primary-700: #cc3700;

  /* Element Plus主题定制（中性化 primary，保留按钮用 juwo-primary） */
  --el-color-primary: #5b6472;
  --el-color-primary-light-1: #6b7583;
  --el-color-primary-light-3: #8a93a0;
  --el-color-primary-light-5: #c7ccd3;
  --el-color-primary-light-7: #e6e9ed;
  --el-color-primary-light-8: #eff1f4;
  --el-color-primary-light-9: #f7f8fa;
  --el-color-primary-dark-2: #3c475b;

  /* 从现有设计系统继承的颜色 */
  --color-text-primary: #2d2d2d;
  --color-text-secondary: #595959;
  --color-text-price: #000000;
  --color-border-default: #e3e3e3;
  --color-bg-page: #f4f7f9;
  --color-bg-card: #ffffff;

  /* 专业字体系统 */
  --font-english: 'SF Pro Text', -apple-system, 'Segoe UI', Roboto, sans-serif;
  --font-chinese:
    'PingFang SC', 'Noto Sans CJK SC', 'Source Han Sans SC', 'Microsoft YaHei', sans-serif;
  --font-system: -apple-system, 'PingFang SC', 'Inter', sans-serif;

  /* 专业间距系统 */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
  --space-2xl: 48px;

  /* 专业阴影系统 */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

  /* 专业圆角系统 */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
}

/* ========== 统一补充：详情页引用的设计令牌，映射到全局变量（不影响现有页面） ========== */
:root {
  /* 间距（对齐 Tailwind 语义，用于详情页按钮/栅格） */
  --space-1-5: 6px; /* 0.375rem */
  --space-3: 12px; /* 0.75rem */
  --space-3-5: 14px; /* 0.875rem */
  --space-4: 16px; /* 1rem */
  --space-6: 24px; /* 1.5rem */

  /* 字体与字重（详情页使用到的变量名） */
  --text-xs: 12px;
  --text-sm: 14px;
  --text-base: 16px;
  --text-lg: 18px;
  --font-semibold: 600;

  /* 背景/边框/品牌（映射到现有JUWO设计系统） */
  --bg-base: var(--color-bg-card);
  --bg-hover: #f7f8fa;
  --bg-secondary: var(--juwo-primary-50);
  --radius-full: 9999px;
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05);
  --brand-primary: var(--juwo-primary);

  /* 文本与链接颜色（与全局一致） */
  --text-primary: var(--color-text-primary);
  --text-tertiary: #8b8f97;
  --link-color: var(--juwo-primary);

  /* 输入框后缀定位令牌（统一管理） */
  --search-suffix-right: 12px; /* 图标距输入框右边界 */
  --search-suffix-hit: 32px;   /* 命中区域尺寸，必要时可收紧为 24–28px */

  /* Chip 中性化令牌（全站复用） */
  --chip-bg: #f7f8fa;
  --chip-bg-hover: #eef1f4;
  --chip-bg-selected: #e9eef2;
}

/* ========== 全局重置样式 ========== */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html,
body {
  font-family: var(--font-system);
  color: var(--color-text-primary);
  background-color: var(--color-bg-page);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* overflow-x: hidden; 已移除以修复粘性定位 */
}

/* ========== Element Plus组件定制 ========== */

/* 轮播组件定制 - 移除可能的黄色指示器 */
.el-carousel__indicators {
  display: none !important;
}

.el-carousel__indicator {
  display: none !important;
}

.el-carousel__button {
  display: none !important;
}

/* 移除Element Plus可能的黄色警告色 */
.el-message--warning {
  background-color: #f0f9ff !important;
  border-color: #0ea5e9 !important;
}

.el-notification--warning {
  background-color: #f0f9ff !important;
  border-color: #0ea5e9 !important;
}

/* 移除任何可能的黄色边框或背景 */
.el-card {
  border-color: var(--color-border-default) !important;
}

.el-divider {
  border-color: var(--color-border-default) !important;
}

/* 移除全局“边框跟随文字颜色”的规则
   原因：会导致品牌色/文本色渗透为边框色，出现“彩色描边/下划线”，不符合中性化边界。 */

/*
*:not(.el-button):not(.el-slider):not(.logo-icon):not(.favorite-btn) {
  background-color: transparent;
}
*/

/* 按钮组件定制 */
.el-button--primary {
  background-color: var(--juwo-primary);
  border-color: var(--juwo-primary);
}

.el-button--primary:hover,
.el-button--primary:focus {
  background-color: var(--juwo-primary-light);
  border-color: var(--juwo-primary-light);
}

.el-button--primary:active {
  background-color: var(--juwo-primary-dark);
  border-color: var(--juwo-primary-dark);
}

/* 滑块组件定制 */
.el-slider__bar {
  background-color: var(--juwo-primary);
}

.el-slider__button {
  border-color: var(--juwo-primary);
}

.el-slider__button:hover {
  border-color: var(--juwo-primary-light);
}

/* 单选按钮组定制 */
.el-radio-button__inner {
  border-color: var(--color-border-default);
  color: var(--color-text-secondary);
}

.el-radio-button.is-active .el-radio-button__inner {
  background-color: var(--juwo-primary);
  border-color: var(--juwo-primary);
  color: white;
}

.el-radio-button__inner:hover {
  border-color: var(--juwo-primary);
  color: var(--juwo-primary);
}

/* 抽屉组件定制 */
.el-drawer__header {
  margin-bottom: 20px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--color-border-default);
}

.el-drawer__title {
  font-size: 20px;
  font-weight: 700;
  color: var(--color-text-primary);
}

/* ========== 房源卡片样式 (复用现有设计) ========== */

/* 保持现有的580px卡片设计 */
.property-card {
  width: 580px;
  background: var(--color-bg-card);
  border: 1px solid var(--color-border-default);
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
  transition: all 0.3s ease;
  margin-bottom: 20px;
}

.property-card:hover {
  box-shadow: var(--shadow-lg);
  transform: translateY(-2px);
}

/* 图片容器 - 4:3比例 */
.property-image-container {
  width: 100%;
  height: 386px;
  position: relative;
  overflow: hidden;
}

.property-image-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* 图片轮播控制 */
.carousel-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255, 255, 255, 0.9);
  color: #333;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  z-index: 10;
}

.carousel-btn:hover {
  background: white;
  transform: translateY(-50%) scale(1.1);
}

.carousel-btn-prev {
  left: 12px;
}

.carousel-btn-next {
  right: 12px;
}

/* 图片计数器 */
.image-counter {
  position: absolute;
  bottom: 12px;
  left: 12px;
  background: rgba(0, 0, 0, 0.75);
  color: white;
  font-size: 11px;
  font-weight: 500;
  padding: 4px 8px;
  border-radius: 4px;
}

/* 收藏按钮 - 移除全局absolute定位，让组件自己控制 */
/* .favorite-btn 样式已移至PropertyCard组件内部 */

/* 房源内容区域 */
.property-content {
  padding: 16px;
}

/* 价格显示 - 匹配现有设计 */
.property-price {
  font-size: 22px;
  font-weight: 700;
  color: var(--color-text-price);
  line-height: 1.2;
  margin-bottom: 8px;
}

.property-price .price-unit {
  font-size: 14px;
  color: #666666;
  font-weight: 400;
}

/* 地址信息 - 两行显示 */
.property-address-primary {
  font-size: 15px;
  color: #333333;
  font-weight: 500;
  line-height: 1.3;
  margin-bottom: 4px;
}

.property-address-secondary {
  font-size: 13px;
  color: #666666;
  font-weight: 500;
  line-height: 1.3;
  margin-bottom: 12px;
}

/* 房型信息图标 */
.property-features {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 12px;
  color: #666666;
}

.feature-item {
  display: flex;
  align-items: center;
  gap: 4px;
}

.feature-item i {
  font-size: 14px;
  width: 16px;
  text-align: center;
}

.feature-item span {
  color: #000000;
  font-weight: 600;
  font-size: 14px;
}

/* 底部信息区域 */
.property-footer {
  border-top: 1px solid #e5e7eb;
  margin-top: 8px;
  padding-top: 8px;
}

.availability-text {
  color: #4b5563;
  font-size: 13px;
  font-weight: 400;
  margin-bottom: 4px;
}

.inspection-text {
  color: #2563eb;
  font-size: 12px;
  font-weight: 500;
}

/* ========== 筛选组件样式 ========== */

/* 筛选按钮样式 */
.filter-btn {
  padding: 8px 16px;
  border: 2px solid var(--color-border-default);
  border-radius: 8px;
  background: white;
  font-size: 14px;
  font-weight: 600;
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all 0.2s ease;
}

.filter-btn:hover {
  border-color: var(--color-border-strong);
  color: var(--color-text-primary);
}

.filter-btn.active {
  background: #ffefe9; /* 极弱浅橙，仅作轻提示 */
  border-color: var(--color-border-strong);
  color: var(--color-text-primary);
}

/* ========== 响应式设计系统 ========== */

/* PC端隐藏移动端Logo */
@media (min-width: 769px) {
  .mobile-logo-section {
    display: none;
  }
}

/* 移动端优先设计 */
.container {
  max-width: 100%;
  margin: 0 auto;
  padding: 0 16px;
}

/* 房源网格布局 */
.properties-grid {
  display: grid;
  gap: 20px;
}

/* 移动端 - 单列布局 */
@media (max-width: 767px) {
  .properties-grid {
    grid-template-columns: 1fr;
    justify-items: start;
  }

  .property-card {
    width: 100%;
    max-width: 580px;
    margin: 0;
  }

  .property-image-container {
    width: 100%;
    height: 250px;
  }
}

/* 平板端和桌面端 - 保持左对齐 */
@media (min-width: 768px) {
  .properties-grid {
    grid-template-columns: 1fr;
    justify-items: start;
    max-width: 100%; /* 确保网格不超过其容器 */
  }

  .property-card {
    width: 580px;
    margin: 0;
  }

  .container {
    padding: 0 32px;
  }
}

/* ========== 搜索和筛选组件样式 ========== */

/* 搜索栏容器 */
.search-container {
  position: relative;
  width: 100%;
  max-width: 600px;
}

/* 自动补全建议列表 */
.location-suggestions {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: white;
  border: 1px solid var(--color-border-default);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  max-height: 300px;
  overflow-y: auto;
  z-index: 1000;
  margin-top: 4px;
}

.suggestion-item {
  padding: 12px 16px;
  border-bottom: 1px solid #f1f1f1;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.suggestion-item:last-child {
  border-bottom: none;
}

.suggestion-item:hover {
  background-color: #f7f8fa;
  color: var(--color-text-primary);
}

/* 区域标签样式 */
.location-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 8px;
}

.location-tag {
  background: var(--chip-bg);
  color: var(--color-text-secondary);
  border: none;
  border-radius: 9999px;
  font-size: 13px;
  font-weight: 500;
  padding: 6px 12px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.2s ease, color 0.2s ease;
}

.location-tag:hover {
  background: var(--chip-bg-hover);
  color: var(--color-text-primary);
}

.remove-location-btn {
  background: none;
  border: none;
  color: rgba(255, 255, 255, 0.8);
  cursor: pointer;
  font-size: 12px;
  padding: 2px;
  border-radius: 2px;
  transition: all 0.2s ease;
}

.remove-location-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  color: white;
}

/* ========== 导航组件样式已移至Navigation.vue组件内 ========== */

/* ===== 导航通用规则（全站仅作用导航容器）=====
   目的：hover 橙色、不加粗、不灰底；focus/click 无外框；图标随文字；圆角统一 2px
   范围：nav/header nav/.nav/.navbar/.navigation/.top-nav/.bottom-nav/[class*="nav"] 内的链接，不影响按钮/表单
   说明：使用更高选择器特异性 + !important，安全覆盖 Element Plus 的灰底/描边护栏
*/
:root {
  /* 导航 hover 颜色令牌，使用品牌橙 */
  --nav-hover-color: var(--juwo-primary);
}

/* 基础链接规范（仅在导航容器中生效） */
nav a,
header nav a,
.nav a,
.navbar a,
.navigation a,
.top-nav a,
.bottom-nav a,
[class*="nav"] a {
  text-decoration: none;
  font-weight: inherit !important;      /* 不加粗 */
  border-radius: 2px;                   /* 圆角一致 */
  background: transparent !important;   /* 禁止灰底 */
  transition: color .15s ease;
  outline: none;                        /* 点击/键盘 focus 无外框 */
  box-shadow: none;
}

/* 悬浮态：仅变文字/图标为品牌橙 */
nav a:hover,
header nav a:hover,
.nav a:hover,
.navbar a:hover,
.navigation a:hover,
.top-nav a:hover,
.bottom-nav a:hover,
[class*="nav"] a:hover {
  color: var(--nav-hover-color) !important;   /* 橙色 */
  background: transparent !important;         /* 不要灰底 */
  font-weight: inherit !important;            /* 不加粗 */
}

/* 焦点态（点击/键盘）明确移除外框/外发光，仅针对导航链接 */
nav a:focus,
nav a:focus-visible,
header nav a:focus,
header nav a:focus-visible,
.nav a:focus,
.nav a:focus-visible,
.navbar a:focus,
.navbar a:focus-visible,
.navigation a:focus,
.navigation a:focus-visible,
.top-nav a:focus,
.top-nav a:focus-visible,
.bottom-nav a:focus,
.bottom-nav a:focus-visible,
[class*="nav"] a:focus,
[class*="nav"] a:focus-visible {
  outline: none !important;
  box-shadow: none !important;
}

/* 图标随文字颜色（常见 i/svg） */
nav a i,
header nav a i,
.nav a i,
.navbar a i,
.navigation a i,
.top-nav a i,
.bottom-nav a i,
[class*="nav"] a i,
nav a svg,
header nav a svg,
.nav a svg,
.navbar a svg,
.navigation a svg,
.top-nav a svg,
.bottom-nav a svg,
[class*="nav"] a svg {
  color: currentColor !important;
  fill: currentColor;
  stroke: currentColor;
}

/* 覆写 Element Plus 菜单项在“导航容器内”的灰底规则，仅改色不落灰底 */
nav .el-menu-item:hover,
header nav .el-menu-item:hover,
.nav .el-menu-item:hover,
.navbar .el-menu-item:hover,
.navigation .el-menu-item:hover,
.top-nav .el-menu-item:hover,
.bottom-nav .el-menu-item:hover,
[class*="nav"] .el-menu-item:hover {
  background: transparent !important;         /* 不要灰底 */
  color: var(--nav-hover-color) !important;   /* 橙色 */
}

/* 风险与回滚：
   - 若某些非导航模块的外层类名包含“nav”，可能被误伤（概率低）。可为该容器加更精确选择器排除。
   - 回滚：删除本规则块即可完全回退。
*/

/* ========== 加载和状态样式 ========== */

.loading-spinner {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 40px;
  color: var(--color-text-secondary);
}

.error-message {
  text-align: center;
  padding: 40px;
  color: var(--color-text-secondary);
  font-size: 16px;
}

.empty-state {
  text-align: center;
  padding: 60px 20px;
  color: var(--color-text-secondary);
}

.empty-state i {
  font-size: 48px;
  color: var(--color-border-default);
  margin-bottom: 16px;
}

/* ===== Element Plus 滚动指示器中性化（全局） =====
   目的：移除非CTA处的品牌色渗透（如滚动条/指示器出现橙色），统一为中性灰
   原则：仅样式层覆盖，不改动逻辑；全站可复用；必要时可在组件内再做 :deep 兜底
   溯源：activeContext｜UI-NAV-GLOBAL-RULES（二次中性化）
*/
:root {
  --neutral-scrollbar-color: #c0c4cc;
  --neutral-scrollbar-hover-color: #909399;
}

/* 原生 WebKit 滚动条（全站） */
*::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
*::-webkit-scrollbar-thumb {
  background-color: var(--neutral-scrollbar-color);
  border-radius: 4px;
}
*::-webkit-scrollbar-thumb:hover {
  background-color: var(--neutral-scrollbar-hover-color);
}
*::-webkit-scrollbar-track {
  background: transparent;
}

/* Element Plus el-scrollbar 组件中性化 */
.el-scrollbar__bar {
  background: transparent !important;
}
.el-scrollbar__thumb {
  background-color: var(--neutral-scrollbar-color) !important;
}
.el-scrollbar__thumb:hover {
  background-color: var(--neutral-scrollbar-hover-color) !important;
}

/* FilterPanel 局部兜底（面板内不出现品牌橙） */
.domain-filter-panel :deep(.el-scrollbar__bar) {
  background: transparent !important;
}
.domain-filter-panel :deep(.el-scrollbar__thumb) {
  background-color: var(--neutral-scrollbar-color) !important;
}
.domain-filter-panel :deep(.el-scrollbar__thumb:hover) {
  background-color: var(--neutral-scrollbar-hover-color) !important;
}

/* ========== Utilities · 8pt Spacing / Type Scale / Weight / Muted ========== */
/* 纵向堆叠节奏（容器上使用），统一 8pt 系列 */
.stack-xs > * + * { margin-top: 8px !important; }
.stack-sm > * + * { margin-top: 12px !important; }
.stack-md > * + * { margin-top: 16px !important; }
.stack-lg > * + * { margin-top: 24px !important; }
.stack-xl > * + * { margin-top: 32px !important; }

/* 字号工具，映射到全局 tokens */
.text-xs  { font-size: var(--text-xs) !important; }
.text-sm  { font-size: var(--text-sm) !important; }
.text-base{ font-size: var(--text-base) !important; }
.text-lg  { font-size: var(--text-lg) !important; }
/* 标题快捷（与模板一致） */
.h1 { font-size: 24px !important; line-height: 28px !important; font-weight: 700 !important; }
.h2 { font-size: 20px !important; line-height: 24px !important; font-weight: 700 !important; }

/* 字重工具 */
.font-400 { font-weight: 400 !important; }
.font-500 { font-weight: 500 !important; }
.font-600 { font-weight: 600 !important; }
.font-700 { font-weight: 700 !important; }

/* 语义色工具 */
.text-primary   { color: var(--color-text-primary) !important; }
.text-secondary { color: var(--color-text-secondary) !important; }
.text-brand     { color: var(--juwo-primary) !important; }

/* 统一卡片容器（轻边界 + 面背景），用于我的中心等信息区 */
.section-card {
  background: var(--color-bg-card);
  border: 1px solid var(--color-border-default);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  padding: 16px;
}
@media (min-width: 768px) {
  .section-card { padding: 24px; }
}

/* ================= EP-GUARDRAIL-FOCUS-GLOBAL =================
   目的：一次性移除“橙色/默认焦点外框”，建立全站焦点可见性基线
   原则：
   - 统一重置 UA outline（避免浏览器默认橙框）
   - 输入类控件采用 :focus-visible + 中性灰 ring（token 化），保证可达性
   - 按场景（导航/标题区/卡片内图标按钮等）隐藏按钮/链接的焦点 ring
   - Element Plus 组件轻量覆盖 :focus outline，避免与基线冲突
   - 可选：对极少数按钮允许 .focus-visible-ring 强制启用灰 ring
   溯源：activeContext｜UI-NAV-GLOBAL-RULES & 本次“全站统一焦点策略”
*/

/* 令牌：焦点 ring 风格（可按品牌调整） */
:root {
  --focus-ring-color: rgba(0, 0, 0, 0.25);
  --focus-ring-width: 2px;
  --focus-ring-offset: 2px; /* 目前未使用，如需 offset 可改为 box-shadow 双层实现 */
}

/* 1) 重置 UA outline（所有可聚焦元素） */
:where(a, button, [role="button"], input, select, textarea, [tabindex]):focus {
  outline: none;
}

/* 2) 输入类控件：仅在 focus-visible 时显示中性灰 ring（保证键盘可达性） */
:where(input, select, textarea, .el-input__wrapper, .el-select, .el-switch):focus-visible {
  outline: none !important;
  box-shadow: 0 0 0 var(--focus-ring-width) var(--focus-ring-color) !important;
}

/* 3) 其它可点击元素（按钮/链接）：默认不显示 ring（避免“橙色框/灰框”） */
:where(a, button, [role="button"], .el-button, .el-link):focus-visible {
  outline: none !important;
  box-shadow: none !important;
}

/* 4) 场景兜底：导航/标题动作区/卡片图标按钮内的可点击项统一隐藏 ring */
:where(nav, .navigation, .top-nav, .bottom-nav, [class*="nav"], .title-block, .actions-row, .properties-grid, .property-card)
:is(a, button, [role="button"], .el-button):focus,
:where(nav, .navigation, .top-nav, .bottom-nav, [class*="nav"], .title-block, .actions-row, .properties-grid, .property-card)
:is(a, button, [role="button"], .el-button):focus-visible {
  outline: none !important;
  box-shadow: none !important;
}

/* 5) Element Plus 组件：统一移除 :focus outline，使用上面的基线规则控制 */
.el-button:focus,
.el-dropdown-menu__item:focus,
.el-link:focus,
.el-menu-item:focus,
.el-switch:focus,
.el-input__wrapper:focus,
.el-select:focus {
  outline: none !important;
}

/* 6) （可选）个别按钮若需要键盘 ring，可加 .focus-visible-ring 类显式启用 */
.focus-visible-ring:focus-visible {
  box-shadow: 0 0 0 var(--focus-ring-width) var(--focus-ring-color) !important;
}

/* ===== Element Plus Image Viewer · 全局覆盖（移动端优先）=====
   目的：按设计实现
   - 背景：纯黑（保持）
   - 关闭：仅 X，无圆形底
   - 箭头：更靠屏幕边缘
   - 计数器：右上角“当前/总数”
   注：viewer 为 teleported 到 body 的节点，必须放在全局样式而非 scoped 内。
*/

/* 背景保持纯黑 */
.el-image-viewer__mask {
  background-color: #000000 !important;
  opacity: 0.95 !important;
}

/* 去除圆底，仅保留图标 */
.el-image-viewer__btn {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* 关闭按钮：左上角，命中区 44×44 */
.el-image-viewer__close {
  top: 12px !important;
  left: 12px !important;
  right: auto !important;
  width: 44px !important;
  height: 44px !important;
  background: transparent !important;
}

/* 左右箭头：外移、垂直居中 */
.el-image-viewer__prev,
.el-image-viewer__next {
  top: 50% !important;
  transform: translateY(-50%) !important;
  background: transparent !important;
}

.el-image-viewer__prev { left: 12px !important; }
.el-image-viewer__next { right: 12px !important; }

/* 顶部计数器样式（由运行时注入 .custom-image-counter） */
.custom-image-counter {
  position: fixed;
  top: 12px;
  right: 12px;
  z-index: 100000; /* 高于 viewer 内部按钮 */
  color: #ffffff;
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 0.2px;
  text-shadow: 0 1px 2px rgba(0,0,0,.5);
}

/* 可选：仅在移动端强制这些位置；若要全平台统一，可移除该媒体查询 */
@media (max-width: 767px) {
  .el-image-viewer__close { top: 12px !important; left: 12px !important; }
  .el-image-viewer__prev { left: 12px !important; }
  .el-image-viewer__next { right: 12px !important; }
}

/* ===== Viewer 交互兜底 + 箭头灰底（提高层级与可点击性） ===== */
.el-image-viewer__wrapper {
  z-index: 99999 !important;              /* 提层，避免被其他 fixed/overlay 覆盖 */
}

/* 提升各按钮与工具栏层级，确保在遮罩之上可点击 */
.el-image-viewer__btn,
.el-image-viewer__prev,
.el-image-viewer__next,
.el-image-viewer__close,
.el-image-viewer__actions {
  z-index: 100001 !important;
}

/* 工具栏图标统一白色，提高可读性 */
.el-image-viewer__actions__inner {
  color: #fff !important;
}

.el-image-viewer__btn,
.el-image-viewer__prev,
.el-image-viewer__next,
.el-image-viewer__close,
.el-image-viewer__actions {
  pointer-events: auto !important;        /* 按钮可点击 */
}

.custom-image-counter {
  pointer-events: none !important;        /* 计数器不拦截点击 */
}

/* 恢复左右箭头的半透明灰底（提高在浅色图上的可读性） */
.el-image-viewer__prev,
.el-image-viewer__next {
  width: 44px !important;
  height: 44px !important;
  border-radius: 9999px !important;
  background-color: rgba(0, 0, 0, 0.35) !important; /* 半透明灰底 */
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* 箭头图标颜色统一为白色，hover 稍微加强对比 */
.el-image-viewer__btn i,
.el-image-viewer__btn svg {
  color: #fff !important;
  stroke: #fff !important;
  fill: #fff !important;
}

.el-image-viewer__prev:hover,
.el-image-viewer__next:hover {
  background-color: rgba(0, 0, 0, 0.45) !important;
}

/* ================== 中性化护栏 · 变体兜底（第二轮） ==================
   目的：覆盖 Element Plus 仍可能使用 primary 的“hover/active/keyboard 导航/快捷项/清除图标”等场景
   说明：仅样式层覆盖，不影响任何逻辑；全部使用 !important，防止主题内部优先级反盖
*/

/* Select 下拉项键盘导航态（hover 类名变体） */
.el-select-dropdown__item.hover,
.el-select-dropdown__item.is-hovering {
  background: #f7f8fa !important;
  color: var(--color-text-primary) !important;
}

/* Dropdown 菜单项 active 变体 */
.el-dropdown-menu__item.is-active {
  background: #f7f8fa !important;
  color: var(--color-text-primary) !important;
}

/* Cascader（如使用）选中/活动/路径高亮中性化 */
.el-cascader-node.is-selectable.in-checked > .el-cascader-node__label,
.el-cascader-node.is-active > .el-cascader-node__label,
.el-cascader-node.in-active-path > .el-cascader-node__label {
  color: var(--color-text-primary) !important;
}
.el-cascader-node.is-selectable.in-checked > .el-cascader-node__postfix,
.el-cascader-node.is-active > .el-cascader-node__postfix {
  color: var(--color-text-primary) !important;
}

/* Switch 全局选中态中性化（局部已在 FilterPanel 处理，这里做全局兜底） */
.el-switch.is-checked .el-switch__core {
  background-color: var(--color-border-strong) !important;
}

/* DatePicker 快捷项 hover */
.el-picker-panel__shortcut:hover {
  background: #f7f8fa !important;
  color: var(--color-text-primary) !important;
}

/* DatePicker 单元 hover（非选中范围，仅悬浮） */
.el-date-table-cell:hover .el-date-table-cell__text {
  background: #f7f8fa !important;
  color: var(--color-text-primary) !important;
}

/* Input 清除图标 hover（默认会跟随 primary） */
.el-input__suffix .el-input__clear:hover {
  color: var(--color-text-primary) !important;
}

/* Select 聚焦态兜底（键盘导航时） */
.el-select .el-input.is-focus .el-input__wrapper {
  border-color: var(--color-border-strong) !important;
  box-shadow: 0 0 0 2px rgba(0,0,0,.04) !important;
}

/* 其他通用菜单项（如上下文菜单）hover 中性化 */
.el-menu-item:hover,
.el-menu-item.is-active {
  background: #f7f8fa !important;
  color: var(--color-text-primary) !important;
}

/* ================== UI 统一中性化覆盖（SearchBar / FilterPanel / 表单） ==================
   目标：
   1) 禁用品牌橙色在“边框/下划线/分隔线/聚焦态”上的使用，仅保留在主CTA按钮
   2) SearchBar 与 FilterPanel 的标签/悬浮/聚焦走中性灰阶，聚焦态“边框加深 + 轻微外发光”
   3) 改动均为样式层，最小diff，可随时回滚
*/

/* 补充强边框色变量（中性） */
:root {
  --color-border-strong: #c7ccd3;
}

/* Element Plus 输入/选择/日期等控件：圆角收紧 + 聚焦中性化 */
.el-input__wrapper { border-radius: 2px !important; }
.el-input.is-focus .el-input__wrapper,
.el-select .el-input.is-focus .el-input__wrapper,
.el-textarea__inner:focus,
.el-date-editor.is-active {
  border-color: var(--color-border-strong) !important; /* 中性加深 */
  box-shadow: 0 0 0 2px rgba(0,0,0,.04) !important;   /* 轻微外发光 */
  outline: none !important;
}

/* 自动补全建议项：悬浮改为中性灰，不使用品牌色 */
.suggestion-item:hover {
  background-color: #f7f8fa !important;
  color: var(--color-text-primary) !important;
}

/* SearchBar 选区标签：统一中性风（浅灰底，无描边，Pill） */
.location-tag {
  background: var(--chip-bg) !important;
  color: var(--color-text-secondary) !important;
  border: none !important;
  border-radius: 9999px !important;
  font-size: 13px;
  font-weight: 500;
  padding: 6px 12px !important;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.2s ease, color 0.2s ease;
}
.location-tag:hover {
  background: var(--chip-bg-hover) !important;
  color: var(--color-text-primary) !important;
}

/* 标签内“移除”按钮：改为中性灰阶 */
.remove-location-btn {
  background: none;
  border: none;
  color: var(--color-text-secondary);
  cursor: pointer;
  font-size: 12px;
  padding: 2px;
  border-radius: 9999px;
  transition: color 0.2s ease;
}
.remove-location-btn:hover {
  background: transparent;
  color: var(--color-text-primary);
}

/* 分隔线/卡头等“细线”统一中性（如遇到组件内覆盖，可按需补更具体选择器） */
.el-divider,
.el-card,
.el-drawer__header {
  border-color: var(--color-border-default) !important;
}

/* 交互态中性化护栏：彻底移除“点击后橙色边框/橙色下拉高亮”
   为什么：Element Plus 默认将 primary 主题色用于 hover/focus/selected/active，
   与我们“品牌色仅用于 CTA”的规范冲突。以下覆盖仅中性化交互态，不影响主按钮。 */

/* 1) Checkbox/Radio 选中态中性化 */
.el-checkbox__input.is-checked .el-checkbox__inner,
.el-checkbox.is-checked .el-checkbox__inner {
  background-color: var(--color-text-primary) !important;
  border-color: var(--color-text-primary) !important;
}
.el-checkbox__input.is-checked + .el-checkbox__label {
  color: var(--color-text-primary) !important;
}

.el-radio__input.is-checked .el-radio__inner {
  background-color: var(--color-text-primary) !important;
  border-color: var(--color-text-primary) !important;
}
.el-radio.is-checked .el-radio__label {
  color: var(--color-text-primary) !important;
}

/* 2) Radio Button 组（去橙底/橙描边） */
.el-radio-button.is-active .el-radio-button__inner {
  background: #f7f8fa !important;
  border-color: var(--color-border-strong) !important;
  color: var(--color-text-primary) !important;
}
.el-radio-button__inner:hover {
  border-color: var(--color-border-strong) !important;
  color: var(--color-text-primary) !important;
}

/* 3) Select 下拉项（选中/悬浮走灰阶） */
.el-select-dropdown__item.selected {
  color: var(--color-text-primary) !important;
  background: #f7f8fa !important;
}
.el-select-dropdown__item:hover {
  background: #f7f8fa !important;
  color: var(--color-text-primary) !important;
}

/* 4) Dropdown 菜单项（悬浮/聚焦中性化） */
.el-dropdown-menu__item:focus,
.el-dropdown-menu__item:not(.is-disabled):hover {
  background: #f7f8fa !important;
  color: var(--color-text-primary) !important;
}

/* 5) Pagination 当前页（去橙底） */
.el-pagination.is-background .el-pager li.is-active,
.el-pagination .el-pager li.is-active {
  background: #fff !important;
  border: 1px solid var(--color-border-strong) !important;
  color: var(--color-text-primary) !important;
}

/* 6) Tabs 活动条与文字（补充） */
.el-tabs__active-bar {
  background-color: var(--color-border-strong) !important;
}
.el-tabs__item.is-active {
  color: var(--color-text-primary) !important;
}

/* 7) DatePicker 选中/范围/今日（去橙色高亮） */
.el-date-table-cell.is-selected .el-date-table-cell__text,
.el-date-table-cell.is-in-range .el-date-table-cell__text {
  background: #f7f8fa !important;
  color: var(--color-text-primary) !important;
}
.el-date-table-cell.is-today .el-date-table-cell__text {
  box-shadow: inset 0 0 0 1px var(--color-border-strong) !important;
}

/* 8) Select 多选 Tag（中性风） */
.el-select__tags .el-tag {
  background: #fafbfc !important;
  border-color: var(--color-border-default) !important;
  color: var(--color-text-secondary) !important;
}

/* 9) Slider（全局补充，避免出现橙色轨道/按钮） */
.el-slider__bar {
  background-color: var(--color-border-strong) !important;
}
.el-slider__button {
  border-color: var(--color-border-strong) !important;
}

/* 10) 通用可见焦点（兜底，克制的外发光） */
:focus-visible {
  outline: 2px solid rgba(0,0,0,.06) !important;
  outline-offset: 2px !important;
}

/* ===== Filter Panels · Focus Override (PC Dropdown + Mobile Full Panel) =====
   目标：在筛选面板作用域内彻底移除浏览器/全局的焦点外框（outline/box-shadow），
   并以“1px 中性灰细边”作为唯一焦点反馈，避免出现黑色外框。
   作用范围：
   - PC 分离式下拉：.filter-dropdown-container
   - 移动端统一面板：.domain-filter-panel
   说明：仅面板作用域内覆盖，不影响全站其它表单控件的可达性。
*/
.filter-dropdown-container :is(input, select, textarea, .el-input__inner, .el-input__wrapper):focus,
.filter-dropdown-container :is(input, select, textarea, .el-input__inner, .el-input__wrapper):focus-visible,
.domain-filter-panel :is(input, select, textarea, .el-input__inner, .el-input__wrapper):focus,
.domain-filter-panel :is(input, select, textarea, .el-input__inner, .el-input__wrapper):focus-visible {
  outline: none !important;
  box-shadow: none !important;
}

/* 面板内输入类控件的“统一中性灰 1px 细边”反馈（Element Plus 包装器） */
.filter-dropdown-container :is(.el-input.is-focus .el-input__wrapper, .el-select .el-input.is-focus .el-input__wrapper),
.domain-filter-panel :is(.el-input.is-focus .el-input__wrapper, .el-select .el-input.is-focus .el-input__wrapper) {
  outline: none !important;
  box-shadow: 0 0 0 1px var(--color-border-default) !important;
}

/* 面板内 DatePicker 激活态去 2px 外发光，改为 1px 中性灰 */
.filter-dropdown-container :is(.el-date-editor.is-active),
.domain-filter-panel :is(.el-date-editor.is-active) {
  border-color: var(--color-border-default) !important;
  box-shadow: 0 0 0 1px var(--color-border-default) !important;
}

/* ===== Filter Field · Unified Tokens =====
   说明：统一筛选输入尺寸/间距/字体与后缀命中区，避免逐面板打补丁
*/
:root {
  --filter-field-height-pc: 40px;
  --filter-field-height-mob: 44px;
  --filter-field-font-pc: 14px;
  --filter-field-font-mob: 16px; /* iOS 防缩放阈值 */
  --filter-field-padding-x: 12px;
  --filter-suffix-right: 12px; /* 若未定义则回退到 --search-suffix-right */
  --filter-suffix-hit: 28px;   /* 若未定义则回退到 --search-suffix-hit */
  --date-field-min-ch: 12ch;   /* YYYY-MM-DD 10ch 留余量，避免挤压 */
}

/* 仅在筛选面板作用域统一：PC 分离式 & 移动端全屏 */
.filter-dropdown-container .filter-field :deep(.el-input__wrapper),
.domain-filter-panel .filter-field :deep(.el-input__wrapper) {
  height: var(--filter-field-height-pc) !important;
  padding-left: var(--filter-field-padding-x) !important;
  padding-right: calc(
    var(--filter-suffix-right, var(--search-suffix-right, 12px)) +
    var(--filter-suffix-hit, var(--search-suffix-hit, 28px))
  ) !important;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}

/* 最小字符宽度 + 字号（PC） */
.filter-dropdown-container .filter-field :deep(.el-input__inner),
.domain-filter-panel .filter-field :deep(.el-input__inner) {
  font-size: var(--filter-field-font-pc) !important;
  min-inline-size: var(--date-field-min-ch);
  min-width: var(--date-field-min-ch);
  line-height: normal;
}

/* PC 分离式下拉：收紧后缀命中区与左右内边距，仅限筛选容器
   说明：不改变容器宽度，仅通过内/外边距与后缀点击区瘦身，释放文本空间
   风险可回滚：--filter-suffix-right 恢复 12px；--filter-suffix-hit 恢复 28px；删除本段覆盖
*/
.filter-dropdown-container {
  --filter-suffix-right: 8px; /* 收紧右侧内距：x到右边界更近 */
  --filter-suffix-hit: 20px;  /* 收紧命中区，仍可点击 */
  --date-field-min-ch: 10ch;  /* PC面板内日期最小字符宽 */
}

/* 仅 PC Filter 作用域：输入包装内边距与盒模型 */
.filter-dropdown-container .filter-field :deep(.el-input__wrapper) {
  box-sizing: border-box;
  padding-left: 8px !important; /* 基线 12px → 8px */
}

/* 后缀区域尺寸与右内边距（仅 PC Filter 作用域） */
.filter-dropdown-container .filter-field :deep(.el-input__suffix) {
  width: var(--filter-suffix-hit);
  padding-right: var(--filter-suffix-right);
}
/* 收紧后缀内部间距（清除 x 与图标组之间的多余空隙） */
.filter-dropdown-container .filter-field :deep(.el-input__suffix-inner) {
  gap: 0 !important;
}

/* 日期双字段并排：不换行 + 紧凑间距（仅 PC Filter 作用域） */
.filter-dropdown-container .date-picker-group {
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  column-gap: 6px !important;
}

/* “至”分隔符间距收紧（仅 PC Filter 作用域） */
.filter-dropdown-container .date-separator {
  margin: 0 2px !important;
  white-space: nowrap;
}
/* 移动端断点下切换尺寸/字号 */
@media (max-width: 767px) {
  .filter-dropdown-container .filter-field :deep(.el-input__wrapper),
  .domain-filter-panel .filter-field :deep(.el-input__wrapper) {
    height: var(--filter-field-height-mob) !important;
  }
  .filter-dropdown-container .filter-field :deep(.el-input__inner),
  .domain-filter-panel .filter-field :deep(.el-input__inner) {
    font-size: var(--filter-field-font-mob) !important; /* iOS ≥16px 防缩放 */
  }
}

/* 自定义消息样式：二级黑色（用于“请先输入区域或邮编”提示） */
.el-message.secondary-hint .el-message__content {
  color: var(--color-text-secondary) !important;
}

/* ========== 工具类样式 ========== */

.text-juwo-primary {
  color: var(--juwo-primary);
}

.bg-juwo-primary {
  background-color: var(--juwo-primary);
}

.border-juwo-primary {
  border-color: var(--juwo-primary);
}

.chinese-text {
  font-family: var(--font-chinese);
  letter-spacing: 0.02em;
}

.english-text {
  font-family: var(--font-english);
  letter-spacing: -0.01em;
}

/* 房型规格统一样式（bed/bath/car） */
.spec-row {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
}

.spec-item {
  display: inline-flex;
  align-items: center;
}

/* 单元与单元之间的水平间距：10px */
.spec-item + .spec-item {
  margin-left: 10px;
}

/* 规范化图标在 24x24 视觉框内居中 */
.spec-item .spec-icon,
.spec-item .fa,
.spec-item .fas,
.spec-item .far,
.spec-item .fa-solid,
.spec-item .el-icon {
  width: 24px;
  height: 24px;
  font-size: 24px;
  line-height: 24px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* 文本 16px，且与图标之间 6px */
.spec-item .spec-text {
  font-size: 16px;
  line-height: 24px;
  margin-left: 6px;
}

/* === 房型规格 - 在 spec-row 场景下强覆盖，确保 24/16 与 6/10 生效 === */
/* 说明：使用更高优先级选择器 + !important，避免被历史 .spec-item 与局部样式覆盖 */
.spec-row .spec-item {
  gap: 0 !important;
} /* 避免与 margin-left 叠加导致间距变宽 */
.spec-row .spec-item + .spec-item {
  margin-left: 10px !important;
} /* 单元与单元间 10px */

.spec-row .spec-item .spec-icon,
.spec-row .spec-item .fa,
.spec-row .spec-item .fas,
.spec-row .spec-item .far,
.spec-row .spec-item .fa-solid,
.spec-row .spec-item .el-icon {
  width: 24px !important;
  height: 24px !important;
  font-size: 24px !important;
  line-height: 24px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* 文本 16px，且与图标之间 6px */
.spec-row .spec-item .spec-text {
  font-size: 16px !important;
  line-height: 24px !important;
  margin-left: 6px !important;
}

/* 兜底：若有历史选择器直接作用于 i/span，这里强行提回规范 */
.spec-row .spec-item i {
  font-size: 24px !important;
  width: 24px !important;
  height: 24px !important;
  line-height: 24px !important;
}
.spec-row .spec-item span {
  font-size: 16px !important;
}
/* === end === */
.spec-item {
  display: flex;
  align-items: center;
  gap: 4px;
}

.spec-item i {
  font-size: 14px;
  width: 16px;
  text-align: center;
}

.spec-item span {
  color: #000000;
  font-weight: 600;
  font-size: 14px;
}

/* 底部信息区域 */
.property-footer {
  border-top: 1px solid #e5e7eb;
  margin-top: 8px;
  padding-top: 8px;
}

.availability-text {
  color: #4b5563;
  font-size: 13px;
  font-weight: 400;
  margin-bottom: 4px;
}

.inspection-text {
  color: #2563eb;
  font-size: 12px;
  font-weight: 500;
}

/* ========== 筛选组件样式 ========== */

/* 筛选按钮样式 */
.filter-btn {
  padding: 8px 16px;
  border: 2px solid var(--color-border-default);
  border-radius: 8px;
  background: white;
  font-size: 14px;
  font-weight: 600;
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all 0.2s ease;
}

.filter-btn:hover {
  border-color: var(--juwo-primary);
  color: var(--juwo-primary);
}

.filter-btn.active {
  background: var(--juwo-primary);
  border-color: var(--juwo-primary);
  color: white;
}

/* ========== 响应式设计系统 ========== */

/* PC端隐藏移动端Logo */
@media (min-width: 769px) {
  .mobile-logo-section {
    display: none;
  }
}

/* 移动端优先设计 */
.container {
  max-width: 100%;
  margin: 0 auto;
  padding: 0 16px;
}

/* 房源网格布局 */
.properties-grid {
  display: grid;
  gap: 20px;
}

/* 移动端 - 单列布局 */
@media (max-width: 767px) {
  .properties-grid {
    grid-template-columns: 1fr;
    justify-items: start;
  }

  .property-card {
    width: 100%;
    max-width: 580px;
    margin: 0;
  }

  .property-image-container {
    width: 100%;
    height: 250px;
  }
}

/* 平板端和桌面端 - 保持左对齐 */
@media (min-width: 768px) {
  .properties-grid {
    grid-template-columns: 1fr;
    justify-items: start;
    max-width: 100%; /* 确保网格不超过其容器 */
  }

  .property-card {
    width: 580px;
    margin: 0;
  }

  .container {
    padding: 0 32px;
  }
}

/* ========== 搜索和筛选组件样式 ========== */

/* 搜索栏容器 */
.search-container {
  position: relative;
  width: 100%;
  max-width: 600px;
}

/* 自动补全建议列表 */
.location-suggestions {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: white;
  border: 1px solid var(--color-border-default);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  max-height: 300px;
  overflow-y: auto;
  z-index: 1000;
  margin-top: 4px;
}

.suggestion-item {
  padding: 12px 16px;
  border-bottom: 1px solid #f1f1f1;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.suggestion-item:last-child {
  border-bottom: none;
}

.suggestion-item:hover {
  background-color: #f7f8fa;
  color: var(--color-text-primary);
}

/* 区域标签样式 */
.location-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 8px;
}

.location-tag {
  background: #fafbfc;
  color: var(--color-text-primary);
  border: 1px solid var(--color-border-default);
  border-radius: 2px;
  font-size: 13px;
  font-weight: 500;
  padding: 4px 10px;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  transition: all 0.2s ease;
}

.location-tag:hover {
  background: #f7f8fa;
  border-color: var(--color-border-strong);
  color: var(--color-text-primary);
}

.remove-location-btn {
  background: none;
  border: none;
  color: rgba(255, 255, 255, 0.8);
  cursor: pointer;
  font-size: 12px;
  padding: 2px;
  border-radius: 2px;
  transition: all 0.2s ease;
}

.remove-location-btn:hover {
  background: #f3f4f6;
  color: var(--color-text-primary);
}

/* ========== 导航组件样式已移至Navigation.vue组件内 ========== */

/* ========== 加载和状态样式 ========== */

.loading-spinner {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 40px;
  color: var(--color-text-secondary);
}

.error-message {
  text-align: center;
  padding: 40px;
  color: var(--color-text-secondary);
  font-size: 16px;
}

.empty-state {
  text-align: center;
  padding: 60px 20px;
  color: var(--color-text-secondary);
}

.empty-state i {
  font-size: 48px;
  color: var(--color-border-default);
  margin-bottom: 16px;
}
