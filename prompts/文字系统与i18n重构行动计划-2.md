**我们已经成功地为颜色系统奠定了坚实的基础，现在，我们将以同样系统化的方式，来攻克****文字系统 (Typography) 与国际化 (i18n)** 这两个核心领域。

**这份行动计划将严格遵循您在 Prompt 中定义的原则和输出格式，旨在为您提供一份清晰、可立即执行的“作战手册”。**

### **第一部分：文字样式系统化 (Typography Token System)**

**我们的第一步是建立一套统一、语义化的文字“度量衡”。这将成为整个应用文本样式的唯一真理来源。**

#### **1.1 定义基础令牌 (Primitives)**

**我们将这些基础变量定义在 **`<span class="selected">src/styles/typography.css</span>` 文件内的 `<span class="selected">:root</span>` 选择器中。

```
/* src/styles/typography.css */
:root {
  /* 1.1.1 字体族 (Font Family) */
  /* 优先使用系统UI字体，确保在各平台上的最佳原生体验和性能 */
  --font-family-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-family-zh-sans: "PingFang SC", "Microsoft YaHei", "Hiragino Sans GB", sans-serif;

  /* 1.1.2 字号比例尺 (Font Sizes) - 基于和谐的模块化比例 */
  --font-size-xs: 12px;   /* Extra Small */
  --font-size-sm: 14px;   /* Small */
  --font-size-base: 16px; /* Body / Base */
  --font-size-lg: 18px;   /* Large */
  --font-size-xl: 20px;   /* Extra Large */
  --font-size-2xl: 24px;  /* 2X Large */
  --font-size-3xl: 30px;  /* 3X Large */
  --font-size-4xl: 36px;  /* 4X Large */

  /* 1.1.3 字重 (Font Weights) */
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* 1.1.4 行高 (Line Heights) - 使用无单位数值以获得最佳灵活性 */
  --line-height-tight: 1.25;  /* 适用于标题 */
  --line-height-normal: 1.5;  /* 适用于正文 */
  --line-height-loose: 1.75; /* 适用于需要更多呼吸感的段落 */
}

```

#### **1.2 定义语义令牌 (Semantic Tokens) 与工具类**

**这是最关键的一步。我们将基础令牌组合成描述“文本角色”的语义令牌，并创建对应的 ****CSS 工具类** 以便在模板中直接使用。

```
/* src/styles/typography.css - 接上文 */

:root {
  /* ... 基础令牌 ... */

  /* 1.2.1 语义令牌 (Semantic Tokens) - 描述文本的角色 */
  --typography-body-default: var(--font-weight-regular) var(--font-size-base) / var(--line-height-normal) var(--font-family-sans), var(--font-family-zh-sans);
  --typography-body-small: var(--font-weight-regular) var(--font-size-sm) / var(--line-height-normal) var(--font-family-sans), var(--font-family-zh-sans);
  --typography-heading-page: var(--font-weight-bold) var(--font-size-3xl) / var(--line-height-tight) var(--font-family-sans), var(--font-family-zh-sans);
  --typography-heading-card: var(--font-weight-semibold) var(--font-size-lg) / var(--line-height-tight) var(--font-family-sans), var(--font-family-zh-sans);
  --typography-price: var(--font-weight-bold) var(--font-size-2xl) / var(--line-height-tight) var(--font-family-sans), var(--font-family-zh-sans);
  --typography-address: var(--font-weight-medium) var(--font-size-base) / var(--line-height-normal) var(--font-family-sans), var(--font-family-zh-sans);
  --typography-button: var(--font-weight-semibold) var(--font-size-sm) / 1 var(--font-family-sans), var(--font-family-zh-sans);
  --typography-label: var(--font-weight-medium) var(--font-size-xs) / var(--line-height-tight) var(--font-family-sans), var(--font-family-zh-sans);
}

/* 1.2.2 CSS 工具类 (Utility Classes) - 在模板中直接应用语义 */
.typo-body-default { font: var(--typography-body-default); }
.typo-body-small { font: var(--typography-body-small); }
.typo-heading-page { font: var(--typography-heading-page); }
.typo-heading-card { font: var(--typography-heading-card); }
.typo-price { font: var(--typography-price); }
.typo-address { font: var(--typography-address); }
.typo-button { font: var(--typography-button); }
.typo-label { font: var(--typography-label); }

```

### **第二部分：国际化 (i18n) 行动计划**

**我们将建立一个轻量、高效的 i18n 框架，将所有 UI 文本从代码中分离出来。**

#### **2.1 建立 i18n 框架**

1. **创建 `<span class="selected">src/i18n/index.js</span>` 插件:**
   ```
   // src/i18n/index.js
   import { get } from 'lodash-es';
   import zhCN from './locales/zh-CN.js';

   // 未来可以轻松扩展其他语言
   const messages = {
     'zh-CN': zhCN,
   };

   // 默认语言
   let currentLanguage = 'zh-CN';

   const t = (key, fallback = '') => {
     // 使用 lodash.get 安全地访问嵌套对象属性
     const message = get(messages[currentLanguage], key, fallback || key);
     return message;
   };

   export default {
     install: (app) => {
       // 全局挂载翻译函数
       app.config.globalProperties.$t = t;
       // 提供 provide/inject 的方式
       app.provide('t', t);
     },
   };

   // 也可单独导出 t 函数，方便在 JS 逻辑中使用
   export { t };

   ```
2. **在 `<span class="selected">src/main.js</span>` 中挂载:**
   ```
   // src/main.js
   import { createApp } from 'vue';
   import App from './App.vue';
   import i18n from './i18n'; // 引入我们的 i18n 插件
   // ... 其他 imports

   const app = createApp(App);

   app.use(i18n); // 挂载插件
   // ... 其他 app.use()

   app.mount('#app');

   ```

#### **2.2 创建语言文件**

1. **`<span class="selected">src/i18n/locales/zh-CN.js</span>` 结构模板:**
   ```
   // src/i18n/locales/zh-CN.js
   export default {
     common: {
       filter: '筛选',
       sort: '排序',
       clear: '清除',
       apply: '应用',
       loading: '加载中...',
     },
     nav: {
       search: '搜索',
       favorites: '收藏',
       commute: '通勤',
       map: '地图',
       me: '我的',
     },
     propertyCard: {
       perWeek: '每周',
       new: '新',
       availability: '空出日期',
       availableNow: '立即入住',
       // ...
     },
     // ... 按页面或功能模块组织
   };

   ```
2. **命名键 (key) 的最佳实践** **:**

* **使用点分隔的嵌套对象** **: 如 **`<span class="selected">propertyCard.perWeek</span>`，结构清晰，易于管理。
* **按页面或功能组织** **: 将相关的翻译分组，如 **`<span class="selected">nav</span>`, `<span class="selected">propertyCard</span>`, `<span class="selected">filterPanel</span>`。
* **创建 `<span class="selected">common</span>` 组** **: 用于存放全站复用的词汇，如“确定”、“取消”、“加载中”。**

#### **2.3 内容提取与替换策略**

**这是一个简单的三步流程，可以按组件逐个进行：**

1. **识别** **: 在组件模板中找到一个硬编码的英文 UI 文本，例如 **`<span class="selected"><span>per week</span></span>`。
2. **提取** **: 在 **`<span class="selected">zh-CN.js</span>` 中为其创建一个键值对，例如 `<span class="selected">propertyCard: { perWeek: '每周' }</span>`。
3. **替换** **: 在组件模板中，用 **`<span class="selected">$t()</span>` 函数替换硬编码文本：`<span class="selected"><span>{{ $t('propertyCard.perWeek') }}</span></span>`。

### **第三部分：整合执行与试点项目**

#### **3.1 推荐试点组件**

**`<span class="selected">PropertyCard.vue</span>`** 是最理想的试点组件。它复用率极高，且包含了多种不同角色的文本，是检验我们新系统的完美试验场。

#### **3.2 完整的“操作手册”：`<span class="selected">PropertyCard.vue</span>` 重构范例**

**Before: “坏代码”片段**

```
<!-- PropertyCard.vue (Before) -->
<template>
  <div class="property-card">
    <div class="card-image-wrapper">
      <img src="..." alt="Property Image" />
      <span class="new-badge">NEW</span>
    </div>
    <div class="card-info">
      <div class="price-line">
        <span class="price-amount">$300</span>
        <span class="price-unit">per week</span>
      </div>
      <p class="address">Single Bedroom/6 Boundary Street, PARRAMATTA NSW 2150</p>
      <!-- ... 其他部分 ... -->
    </div>
  </div>
</template>

<style scoped>
.new-badge {
  /* ... 其他样式 ... */
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
}
.price-amount {
  font-size: 24px;
  font-weight: bold;
}
.price-unit {
  font-size: 14px;
  color: #6B7280;
}
.address {
  font-size: 16px;
  font-weight: 500;
}
</style>

```

**思考过程**

1. **国际化 (i18n) 思考** **:**

* `<span class="selected">'NEW'</span>` -> 这是个标签。在 `<span class="selected">zh-CN.js</span>` 的 `<span class="selected">propertyCard</span>` 中创建一个键 `<span class="selected">new: '新'</span>`。
* `<span class="selected">'per week'</span>` -> 这是价格单位。在 `<span class="selected">zh-CN.js</span>` 的 `<span class="selected">propertyCard</span>` 中创建一个键 `<span class="selected">perWeek: '每周'</span>`。
* `<span class="selected">'Single Bedroom/6...'</span>` -> 这是动态地址数据，来自API。根据规则， **保持英文原文，不进行翻译** **。**

1. **样式系统化 (Typography) 思考** **:**

* `<span class="selected">.new-badge</span>` 的样式 (`<span class="selected">10px</span>`, `<span class="selected">700</span>`) -> 这是最小的、加粗的标签文本。它扮演的角色是 "label"。我应该使用 `<span class="selected">.typo-label</span>` 工具类。
* `<span class="selected">.price-amount</span>` 的样式 (`<span class="selected">24px</span>`, `<span class="selected">bold</span>`) -> 这是卡片中最需要突出的价格信息。它扮演的角色是 "price"。我应该使用 `<span class="selected">.typo-price</span>` 工具类。
* `<span class="selected">.price-unit</span>` 的样式 (`<span class="selected">14px</span>`) -> 这是辅助性的说明文字。它扮演的角色是 "body-small"。我应该使用 `<span class="selected">.typo-body-small</span>` 工具类。
* `<span class="selected">.address</span>` 的样式 (`<span class="selected">16px</span>`, `<span class="selected">500</span>`) -> 这是重要的地址信息。它扮演的角色是 "address"。我应该使用 `<span class="selected">.typo-address</span>` 工具类。

**After: “好代码”片段**

```
<!-- PropertyCard.vue (After) -->
<template>
  <div class="property-card">
    <div class="card-image-wrapper">
      <img src="..." alt="Property Image" />
      <!-- 使用 $t() 和 .typo-* 工具类 -->
      <span class="new-badge typo-label">{{ $t('propertyCard.new') }}</span>
    </div>
    <div class="card-info">
      <div class="price-line">
        <!-- 价格是动态数据，但样式由工具类统一 -->
        <span class="typo-price">${{ property.price }}</span>
        <span class="typo-body-small">{{ $t('propertyCard.perWeek') }}</span>
      </div>
      <!-- 地址是动态数据，样式由工具类统一 -->
      <p class="typo-address">{{ property.address }}</p>
      <!-- ... 其他部分 ... -->
    </div>
  </div>
</template>

<style scoped>
/* 样式文件现在只负责布局、颜色等，不再有任何 font-* 属性 */
.new-badge {
  /* ... background, padding, position 等样式 ... */
  /* 文字颜色也应使用令牌 */
  color: var(--color-text-inverse); 
}
.price-line {
  display: flex;
  align-items: baseline;
  gap: var(--space-1); /* 间距也使用令牌 */
}

/* 文本颜色由颜色令牌控制，无需在此处重复定义 */
.typo-body-small {
  color: var(--color-text-secondary);
}
</style>
```
