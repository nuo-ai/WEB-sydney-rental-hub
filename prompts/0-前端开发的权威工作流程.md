永远是先制定 Design Token，再进行组件和页面框架的详细构建。

您可以把这个过程想象成盖房子：

Design Token 就是您的建筑规范和标准材料（比如规定所有砖块的尺寸、水泥的标号、窗户的规格）。

页面框架是房子的户型图和结构蓝图（比如哪里是客厅，哪里是卧室，承重墙在哪里）。

组件是预制好的建筑模块（比如一扇完整的窗户、一扇门）。

一个专业的施工队，绝对不会在没有确定砖块尺寸和水泥标号之前，就开始砌墙。他们会先确立标准（Design Tokens），然后根据蓝图（页面框架），用标准化的**模块（组件）**来高效地施工。

为了让您彻底清晰，这里是一套完整的、从战略到实现的分步工作流程。

前端开发的权威工作流程
阶段 0: 基础与战略 (The Blueprint - 蓝图阶段)
在这一阶段，我们不做任何具体的 UI 开发，只做决策和规划。

第 0.1 步：理解业务与用户

任务: 明确这个页面的核心目标是什么？为谁服务？需要传递什么感觉？

产出: 对 projectbrief.md 和 productContext.md 的核心价值主张达成共识（例如：“为留学生提供专业、值得信赖的找房体验”）。

第 0.2 步：寻找视觉参考与灵感

任务: 前往 Dribbble, Mobbin 等网站，搜索“real estate app”，大量浏览优秀的竞品和设计，建立起对“好看”的审美标准。

产出: 截图并收集 5-10 个您认为最符合项目调性的设计参考。

第 0.3 步：定义 Design Tokens (确立建筑规范)

任务: 这是本阶段最关键的一步。基于您的灵感参考和品牌调性，正式在代码中定义您的设计系统基础。

产出:

在 src/styles/design-tokens.css 或 src/style.css 文件中，完成对以下所有原始令牌和语义令牌的定义：

颜色系统: 品牌色（蓝色系）、中性灰阶、语义色（成功、危险）。

字体系统: 字号比例尺、字重、语义化的文本样式（--typography-body 等）。

间距系统: 严格遵循 8pt 网格。

物理属性: 圆角、阴影、边框。

阶段 1: 结构规划 (The Framing - 框架阶段)
现在我们有了规范，可以开始规划“房子”的结构了，但先不关心“装修”。

第 1.1 步：低保真线框图 (Wireframing)

任务: 用纸笔或简单的在线工具，画出页面的大致布局。只用方框和线条来表示不同的区域（头部、搜索区、列表区、导航区），完全不用关心颜色和字体。

产出: 一张清晰的页面结构草图，明确了“什么信息/功能在什么位置”。

第 1.2 步：识别组件清单

任务: 看着您的线框图，识别出所有可以复用的 UI 模式，并列出一个清单。

产出: 一个组件清单，例如：Header、SearchBar、PropertyCard、BottomNavBar、FilterButton 等。

阶段 2: 组件构建 (The Construction - 施工阶段)
万事俱备，现在才真正开始编写组件代码。我们采用“自下而上”的方式。

第 2.1 步：构建原子 (Atoms)

任务: 根据您的组件清单，开始构建最小的、独立的组件。

产出: BaseButton.vue, BaseIcon.vue, BaseBadge.vue 等基础组件。在这一步，严格使用您在阶段 0 定义的 Design Tokens 来为这些原子赋予样式。

第 2.2 步：组装分子与组织 (Molecules & Organisms)

任务: 将原子组合成更复杂的、功能性的组件。

产出: SearchBar.vue (由输入框原子和按钮原子组成), PropertyCard.vue (由图片、徽章、文本等多个原子和分子组成)。组件内部的间距，同样严格使用间距令牌。

阶段 3: 页面组装 (The Assembly - 总装阶段)
第 3.1 步：搭建页面

任务: 创建页面文件 (例如 PropertyListView.vue)，并将您在阶段 2 中构建好的“组织”组件（如 Header, SearchBar, PropertyCard）按照阶段 1 的线框图布局，放置到页面中。

产出: 一个功能完整、但模块间可能还很拥挤的页面。

第 3.2 步：应用布局间距与 polish

任务: 使用较大的间距令牌，来调整页面上各个“组织”模块之间的距离，建立清晰的视觉分区和呼吸感。进行最后的样式微调和响应式处理。

产出: 最终的、精美的、高度一致且可维护的前端页面。

遵循这个流程，您就能确保每一步都有坚实的基础，最终的产出自然会是系统化、专业化的。

---




从零开始、详细到每一步的重新设计与开发工作流。

这个工作流将严格遵循我们之前讨论的所有最佳实践： **令牌先行，移动优先，自下而上构建** 。

---

### **工作流指南：重构移动端房源列表页**

#### **阶段 0: 准备工作 - 建立设计语言 (Foundation)**

在编写任何组件代码之前，我们必须先完成设计决策。这是整个流程中最重要的一步， **不可跳过** 。

* **第 0.1 步：定义颜色令牌**
  * **任务** : 使用 [Coolors.co](https://coolors.co) 等工具，围绕您的品牌主色 `#FF5824` 生成一套完整的调色板（包含品牌色、中性灰阶、语义色）。
  * **产出** : 在 `src/styles/design-tokens.css` 文件中，写下所有的 `--palette-*` (原始令牌) 和 `--color-*` (语义令牌)，包括按钮的 `default` 和 `hover` 状态颜色。
* **第 0.2 步：定义字体令牌**
  * **任务** : 使用 [Type Scale](https://type-scale.com/) 工具，设定一个基础字号（如 16px），并选择一个和谐的比例（如 1.25），生成一套完整的字号。
  * **产出** : 在 `design-tokens.css` 中，写下 `--font-size-*` 和 `--typography-*` 令牌。
* **第 0.3 步：定义间距与布局令牌**
  * **任务** : 遵循  **8pt 网格系统** ，定义一套间距单位。
  * **产出** : 在 `design-tokens.css` 中，写下 `--space-1` (8px), `--space-2` (16px), `--space-3` (24px) 等间距令牌。同时定义 `--radius-medium: 6px` 等圆角令牌。

---

#### **阶段 1: 原子层 - 构建最小的“乐高积木” (Atoms)**

现在，我们开始编码，但只编写最基础、可复用的单元。

* **第 1.1 步：图标 (`BaseIcon.vue`)**
  * **任务** : 创建一个 `BaseIcon.vue` 组件。它接收一个 `name` 属性，内部根据 `name` 动态渲染对应的 `lucide-vue-next` 图标组件。这能统一所有图标的调用方式和基础样式。
* **第 1.2 步：徽章 (`BaseBadge.vue`)**
  * **任务** : 创建用于 "NEW" 标签的 `BaseBadge.vue` 组件。它的样式（背景、颜色、字体、圆角）**必须**完全使用您在阶段0定义的令牌。
* **第 1.3 步：按钮 (`BaseButton.vue`)**
  * **任务** : 创建或完善 `BaseButton.vue`。它应支持不同的变体（主按钮、次要按钮），并且所有变体的默认、悬停、禁用状态都由令牌定义。
* **第 1.4 步：标签 (`BaseChip.vue`)**
  * **任务** : 创建用于搜索框内 "Alexandria" 的 `BaseChip.vue` 组件，同样，样式完全由令牌驱动。

---

#### **阶段 2: 分子层 - 组合简单的功能单元 (Molecules)**

将原子组合成有意义的小组件。

* **第 2.1 步：底部导航项 (`BottomNavItem.vue`)**
  * **任务** : 创建 `BottomNavItem.vue`。它由一个 `BaseIcon.vue` 和一个 `<p>` 文本标签垂直组合而成。组件应能处理“选中”状态（图标和文字变为品牌主色）。
* **第 2.2 步：房源属性组 (`PropertySpecs.vue`)**
  * **任务** : 创建 `PropertySpecs.vue`。它水平排列3个“图标+文字”的组合。使用 `--space-4` 令牌作为它们之间的间距。

---

#### **阶段 3: 组织层 - 构建独立的页面模块 (Organisms)**

将分子和原子组合成复杂、独立的界面区域。

* **第 3.1 步：底部导航栏 (`BottomNavBar.vue`)**

  * **任务** : 创建 `BottomNavBar.vue`。它内部水平排列5个 `BottomNavItem.vue` 分子。使用 Flexbox 的 `justify-content: space-around` 来均匀分布它们。
* **第 3.2 步：搜索栏 (`SearchBar.vue`)**

  * **任务** : 创建 `SearchBar.vue`。它包含一个输入框、多个 `BaseChip.vue` 标签，以及右侧的“筛选”按钮 (`BaseButton.vue`)。
* **第 3.3 步：房源卡片 (`PropertyCard.vue`)**

  * **任务** : 这是本阶段的核心。

  1. 创建 `PropertyCard.vue`。卡片的背景、边框、圆角、阴影全部使用令牌。
  2. 在卡片内部，放置图片、`BaseBadge.vue`、价格文本、地址文本、`PropertySpecs.vue` 分子和操作图标。
  3. 使用**间距令牌** (`--space-3`, `--space-4`) 来控制卡片内部所有元素的 `padding` 和 `margin`，确保和谐的呼吸感。
  4. 应用您在 `systemPatterns.md` 中定义的“移动端 Full-bleed 卡片模式”，让卡片在移动端可以横向铺满屏幕。

---

#### **阶段 4: 页面层 - 完成最终组装 (Page)**

现在，万事俱备，我们来搭建最终的页面。

* **第 4.1 步：创建页面文件 (`PropertyListView.vue`)**
  * **任务** : 创建视图文件，这是我们最终的画布。
* **第 4.2 步：垂直堆叠模块**
  * **任务** : 在模板中，按照从上到下的顺序，依次放置 `Header.vue` (顶部导航)、`SearchBar.vue`、面包屑、页面标题、工具栏，以及一个 `v-for` 循环渲染的 `PropertyCard.vue` 列表。
* **第 4.3 步：应用页面间距**
  * **任务** : 使用**较大**的间距令牌 (`--space-6`, `--space-8`) 作为这些主要模块之间的 `margin-bottom`，以建立清晰的页面结构和信息层级。
* **第 4.4 步：定位底部导航栏**
  * **任务** : 将 `BottomNavBar.vue` 放置在页面模板的根部，并使用 CSS (`position: fixed; bottom: 0; width: 100%;`) 将其固定在屏幕底部。同时，给页面的最外层容器增加一个 `padding-bottom`，其高度应等于底部导航栏的高度，以防列表的最后一项被遮挡。
