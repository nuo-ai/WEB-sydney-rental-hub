
### **工作流指南：重构移动端房源列表页**

#### **阶段 0: 准备工作 - 建立设计语言 (Foundation)**

在编写任何组件代码之前，我们必须先完成设计决策。这是整个流程中最重要的一步， **不可跳过** 。

* **第 0.1 步：定义颜色令牌**
  * **任务** : 使用 [Coolors.co](https://coolors.co) 等工具，围绕您的品牌主色 `#FF5824` 生成一套完整的调色板（包含品牌色、中性灰阶、语义色）。
  * **产出** : 在 `src/styles/design-tokens.css` 文件中，写下所有的 `--palette-*` (原始令牌) 和 `--color-*` (语义令牌)，包括按钮的 `default` 和 `hover` 状态颜色。
* **第 0.2 步：定义字体令牌**
  * **任务** : 使用 [Type Scale](https://type-scale.com/) 工具，设定一个基础字号（如 16px），并选择一个和谐的比例（如 1.25），生成一套完整的字号。
  * **产出** : 在 `design-tokens.css` 中，写下 `--font-size-*` 和 `--typography-*` 令牌。
* **第 0.3 步：定义间距与布局令牌**
  * **任务** : 遵循  **8pt 网格系统** ，定义一套间距单位。
  * **产出** : 在 `design-tokens.css` 中，写下 `--space-1` (8px), `--space-2` (16px), `--space-3` (24px) 等间距令牌。同时定义 `--radius-medium: 6px` 等圆角令牌。

---

#### **阶段 1: 原子层 - 构建最小的“乐高积木” (Atoms)**

现在，我们开始编码，但只编写最基础、可复用的单元。

* **第 1.1 步：图标 (`BaseIcon.vue`)**
  * **任务** : 创建一个 `BaseIcon.vue` 组件。它接收一个 `name` 属性，内部根据 `name` 动态渲染对应的 `lucide-vue-next` 图标组件。这能统一所有图标的调用方式和基础样式。
* **第 1.2 步：徽章 (`BaseBadge.vue`)**
  * **任务** : 创建用于 "NEW" 标签的 `BaseBadge.vue` 组件。它的样式（背景、颜色、字体、圆角）**必须**完全使用您在阶段0定义的令牌。
* **第 1.3 步：按钮 (`BaseButton.vue`)**
  * **任务** : 创建或完善 `BaseButton.vue`。它应支持不同的变体（主按钮、次要按钮），并且所有变体的默认、悬停、禁用状态都由令牌定义。
* **第 1.4 步：标签 (`BaseChip.vue`)**
  * **任务** : 创建用于搜索框内 "Alexandria" 的 `BaseChip.vue` 组件，同样，样式完全由令牌驱动。

---

#### **阶段 2: 分子层 - 组合简单的功能单元 (Molecules)**

将原子组合成有意义的小组件。

* **第 2.1 步：底部导航项 (`BottomNavItem.vue`)**
  * **任务** : 创建 `BottomNavItem.vue`。它由一个 `BaseIcon.vue` 和一个 `<p>` 文本标签垂直组合而成。组件应能处理“选中”状态（图标和文字变为品牌主色）。
* **第 2.2 步：房源属性组 (`PropertySpecs.vue`)**
  * **任务** : 创建 `PropertySpecs.vue`。它水平排列3个“图标+文字”的组合。使用 `--space-4` 令牌作为它们之间的间距。

---

#### **阶段 3: 组织层 - 构建独立的页面模块 (Organisms)**

将分子和原子组合成复杂、独立的界面区域。

* **第 3.1 步：底部导航栏 (`BottomNavBar.vue`)**

  * **任务** : 创建 `BottomNavBar.vue`。它内部水平排列5个 `BottomNavItem.vue` 分子。使用 Flexbox 的 `justify-content: space-around` 来均匀分布它们。
* **第 3.2 步：搜索栏 (`SearchBar.vue`)**

  * **任务** : 创建 `SearchBar.vue`。它包含一个输入框、多个 `BaseChip.vue` 标签，以及右侧的“筛选”按钮 (`BaseButton.vue`)。
* **第 3.3 步：房源卡片 (`PropertyCard.vue`)**

  * **任务** : 这是本阶段的核心。

  1. 创建 `PropertyCard.vue`。卡片的背景、边框、圆角、阴影全部使用令牌。
  2. 在卡片内部，放置图片、`BaseBadge.vue`、价格文本、地址文本、`PropertySpecs.vue` 分子和操作图标。
  3. 使用**间距令牌** (`--space-3`, `--space-4`) 来控制卡片内部所有元素的 `padding` 和 `margin`，确保和谐的呼吸感。
  4. 应用您在 `systemPatterns.md` 中定义的“移动端 Full-bleed 卡片模式”，让卡片在移动端可以横向铺满屏幕。

---

#### **阶段 4: 页面层 - 完成最终组装 (Page)**

现在，万事俱备，我们来搭建最终的页面。

* **第 4.1 步：创建页面文件 (`PropertyListView.vue`)**
  * **任务** : 创建视图文件，这是我们最终的画布。
* **第 4.2 步：垂直堆叠模块**
  * **任务** : 在模板中，按照从上到下的顺序，依次放置 `Header.vue` (顶部导航)、`SearchBar.vue`、面包屑、页面标题、工具栏，以及一个 `v-for` 循环渲染的 `PropertyCard.vue` 列表。
* **第 4.3 步：应用页面间距**
  * **任务** : 使用**较大**的间距令牌 (`--space-6`, `--space-8`) 作为这些主要模块之间的 `margin-bottom`，以建立清晰的页面结构和信息层级。
* **第 4.4 步：定位底部导航栏**
  * **任务** : 将 `BottomNavBar.vue` 放置在页面模板的根部，并使用 CSS (`position: fixed; bottom: 0; width: 100%;`) 将其固定在屏幕底部。同时，给页面的最外层容器增加一个 `padding-bottom`，其高度应等于底部导航栏的高度，以防列表的最后一项被遮挡。
