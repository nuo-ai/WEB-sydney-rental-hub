 对于初学编程者，最佳的代码标注方式应该遵循渐进式理解原则，让代码像一本教科书。

> 记住：好的注释是导师，不是翻译器。它应该帮助初学者理解代码背后的思维过程，而不仅仅是重复代码在做什么。

以下是推荐的标注策略：

1. 三层次注释法

# ========== 模块级：这是什么 ==========

  """
  用户认证模块
  功能：处理用户登录、注册和权限验证
  使用场景：当用户访问需要权限的页面时调用
  """

# ========== 函数级：干什么的 ==========

  def validate_password(password, hashed_password):
      """
      验证用户密码是否正确

    参数说明：
      - password: 用户输入的明文密码
      - hashed_password: 数据库中存储的加密密码

    返回值：
      - True: 密码正确
      - False: 密码错误

    示例：
      if validate_password("123456", db_password):
          print("登录成功")
      """

    # ========== 行级：怎么做的 + 为什么 ==========

    # 步骤1：检查密码是否为空（防止空密码攻击）
      if not password or not hashed_password:
          return False

    # 步骤2：使用bcrypt算法验证
      # 为什么用bcrypt：它能防止彩虹表攻击，比MD5更安全
      try:
          return bcrypt.checkpw(
              password.encode('utf-8'),  # 转换为字节（bcrypt要求）
              hashed_password.encode('utf-8')
          )
      except Exception as e:
          # 记录错误但不暴露给用户（安全考虑）
          logger.error(f"密码验证失败: {e}")
          return False

2. 初学者友好的注释模板

  // ==========================================
  // 功能名称：购物车计算
  // 作用：计算购物车总价和优惠
  // 调用时机：用户添加商品或结算时
  // ==========================================

  function calculateCart(items, coupon) {
      // 【输入检查】确保数据有效
      if (!items || items.length === 0) {
          return { total: 0, discount: 0 };
      }

    // 【核心逻辑】
      let total = 0;

    // 遍历每个商品（为什么用for...of：比forEach更易理解和调试）
      for (const item of items) {
          // 单价 × 数量 = 小计
          const subtotal = item.price * item.quantity;
          total += subtotal;

    // 调试信息（开发时帮助理解数据流）
          console.log(`商品：${item.name}, 小计：${subtotal}`);
      }

    // 【优惠计算】
      let discount = 0;
      if (coupon && coupon.type === 'percentage') {
          // 百分比优惠（例如：8折 = 0.2的折扣）
          discount = total * coupon.value;
      }

    // 【返回结果】
      return {
          total: total,           // 原价
          discount: discount,     // 优惠金额
          final: total - discount // 实付金额
      };
  }

3. 关键原则

  必须注释的地方：

- 复杂逻辑：超过3个条件的判断
- 魔法数字：if (age > 18) → if (age > 18) // 法定成年年龄
- 非显而易见的决策：为什么选择这种方案
- 潜在陷阱：容易出错的地方
- 外部依赖：API调用、数据库操作

  注释示例对比：

  ❌ 不好的注释：
  i += 1  # i加1
  total = price * qty  # 计算总价

  ✅ 好的注释：
  i += 1  # 跳过表头行，从第二行开始处理数据
  total = price * qty  # 含税总价 = 单价 × 数量（税率已包含在price中）

4. 学习型注释结构

# ============ 知识点：列表推导式 ============

# 传统写法：

  numbers = []
  for i in range(10):
      if i % 2 == 0:
          numbers.append(i * 2)

# 列表推导式写法（更Pythonic）：

  numbers = [i * 2 for i in range(10) if i % 2 == 0]

# 解读：[表达式 for 变量 in 序列 if 条件]

# 优势：更简洁、执行效率更高

# ============ 实战应用 ============

# 场景：筛选悉尼租房数据中价格低于800的房源

  affordable_properties = [
      prop for prop in all_properties
      if prop['weekly_rent'] < 800  # 悉尼市场均价约1000/周
  ]

  记住：好的注释是导师，不是翻译器。它应该帮助初学者理解代码背后的思维过程，而不仅仅是重复代码在做
  什么。
