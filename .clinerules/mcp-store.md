* 
### 房产应用 - 完整用户体验结构规划 (最终版)

#### 1. 导航流程 (Navigation Flow)

* **1.1 主要应用流程 (底部导航)**
* `首页` (默认) -> `消息` -> `收藏` -> `我的`

**1.2 房源详情页流程**
* **触发:** 在 `首页`、`收藏页` 等列表点击 `房源卡片`
* **跳转:** `3.4 房源详情页面`
* **返回:** 点击详情页 `返回按钮`，回到上一个列表

**1.3 首页过滤与排序流程**
* **流程A (位置):** `首页` -> `过滤栏` -> `位置` -> 弹出 `4.2 位置选择面板`
* **流程B (排序):** `首页` -> `过滤栏` -> `排序` -> 弹出 `4.3 排序方式面板`
* **流程C (筛选):** `首页` -> `过滤栏` -> `筛选` -> 弹出 `4.4 筛选条件面板`

**1.4 核心操作：预约看房流程 (逻辑补充)**
* **触发:** 点击 `3.4 房源详情页面` -> `底部主操作栏` 上的 `立即预约`
* **跳转:** `预约看房页面` (新页面)
* **操作:** 用户选择日期/时间 -> 提交
* **结果:** `预约成功页` 或 `3.5.4 "我的约看"` 列表更新

**1.5 列表页附加功能流程 (逻辑补充)**
* **流程A (PK对比):** `3.3 收藏页` -> (勾选房源) -> 点击 `PK对比` 浮动按钮 -> `房源对比页面` (新页面)
* **流程B (地图模式):** `3.3 收藏页` -> 点击 `地图` 浮动按钮 -> `地图找房页面` (新页面)

**1.6 用户认证流程**
* **注册:** `首页` (未登录) -> `汉堡菜单` -> `注册/登录页` -> `微信一键注册`
* **登录:** (同上)
* **登出:** `3.5 "我的"` -> `3.5.2 设置页面` -> `退出登录` 按钮 -> 确认 -> 返回 `首页` (未登录)

**1.7 个人信息编辑流程**
* **触发:** `3.5 "我的" 页面` -> `用户信息` 区域
* **跳转:** `3.5.1 个人信息页面` -> (修改资料) -> `保存` -> 返回 `3.5 "我的"`

**1.8 账户注销流程**
* **触发:** `3.5.1 个人信息页面` -> `注销账号` 链接
* **跳转:** `账户注销确认页面` (新页面) -> (多步验证) -> 注销成功 -> 返回 `首页` (未登录)

**1.9 法律/隐私条款查看流程**
* **触发:** `3.5.1 个人信息页面` -> `《...隐私政策》` 等链接
* **跳转:** `3.5.3 法律条款详情页`

---

#### 2. 全局元素 (Global Elements)

* **2.1 顶部栏 (Top Header Bar)**
    * **描述:** 高度动态，根据所在页面变化。
    * * `首页`: 显示 `位置信息` 和 `用户状态` (菜单/头像)。
    * * `消息`: 无应用内顶部栏 (或仅有"消息"标题)。
    * * `收藏`: 显示 `标签页导航栏` ("我的收藏", "我的足迹")。
    * * `我的`: 无应用内顶部栏。
    * * `子页面`: 显示 `返回按钮` 和 `页面标题` (例如 "个人信息", "设置")。
* **2.2 底部导航栏 (Bottom Navigation Bar)**
    * **描述:** 在所有一级页面 (首页、消息、收藏、我的) 底部持久显示。
    * `|— 首页` | `消息` | `收藏` | `我的` (图标 + 文字)
* **2.3 浮动操作按钮组 (Floating Action Buttons)**
    * **描述:** 出现在 `收藏页` 等列表页，提供快捷操作。
    * `|— 按钮: "PK对比"`
    * `|— 按钮: "地图"`

---

#### 3. 页面结构 (Page Structure)

* **3.1 首页 (房源列表页)**
    * **页面布局**
    * `|— 顶部栏` (含 `位置信息` 和 `用户状态图标`)
    * `|— 过滤栏` (`位置`, `排序`, `筛选`)
    * `|— 主要内容`
    * |— `房源卡片列表 (重复)`
    * |— `房源卡片`
    * |— `房源图片` (带 "新上线" 标签)
    * |— `价格`, `收藏(☆)`, `更多(...)` (触发 4.1)
    * |— `地址` (例如 "36/52-54 McEvoy St, Waterloo")
    * |— `房型元数据` (例如 "2 🛏️ 2 🛁 1 🚗")
    * |— `空出日期` 和 `开放时间`

* **3.2 消息页面**
    * **页面布局 (空状态)**
    * `|— 主要内容` -> `空状态` ("暂无消息" + 插图)
    * **页面布局 (有内容时)** (逻辑补充)
    * `|— 顶部栏` (标题: "消息")
    * `|— 消息列表 (可滚动)`
    * |— `消息项 (重复)` (触发 3.2.1)
    * |— `头像/图标`, `标题`, `消息预览`, `时间`, `未读红点`
    * **3.2.1 聊天详情页面 (子页面)**
        * `|— 顶部栏` (含 `返回`, 对方 `标题`)
        * `|— 聊天记录 (滚动)`
        * `|— 底部输入栏`

* **3.3 收藏与足迹页面**
    * **页面布局**
    * `|— 顶部栏` (含 `标签页导航`: "我的收藏", "我的足迹")
    * `|— 主要内容 (Main Content)`
    * |  |— **3.3.1 "我的收藏" 标签页内容**
    * |  |  |— `列表摘要: "共X套房源"`
    * |  |  |— `房源卡片列表 (重复)`
    * |  |     |— `标题` (例如 "Chatswood 两室一厅公寓")
    * |  |     |— `价格` (例如 "$950/周")
    * |  |     |— `标签网格` ("带家具", "近火车站"...)
    * |  |— **3.3.2 "我的足迹" 标签页内容**
    * |  |  |— `列表日期` (例如 "2025-10-21")
    * |  |  |— `房源卡片列表 (重复)`
    * |  |  |— `列表脚注: "为您展示近1个月的数据"`
    * `|— 浮动操作按钮组` ("PK对比", "地图")

* **3.4 房源详情页面**
    * **页面布局**
    * `|— 顶部栏` (`返回`, `分享`, `收藏`)
    * `|— 房源图片` (带 `照片计数器`)
    * `|— 主要内容 (滚动)`
    * |  |— `价格`, `地址`, `房型元数据`, `空出日期`
    * |  |— `房源描述 (区域)` (含 `收起/展开` 按钮)
    * |  |— `房源特征 (区域)` (含 "Balcony" 等特征)
    * |  |— `开放时间 (区域)` (含 "当前无开放时间..." 等状态)
    * `|— 底部主操作栏 (固定)` (逻辑补充)
    * |— `电话咨询` (图标)
    * |— `立即预约` (主按钮) (触发 1.4)

* **3.5 "我的" 页面 (用户中心)**
    * **页面布局**
    * `|— 用户信息 (User Info)` (触发 3.5.1)
    * |  |— `用户头像`, `用户手机号`, `(箭头 >)`
    * `|— 用户统计 (User Stats)`
    * |  |— `足迹` | `收藏` | `约看` (触发 3.5.4)
    * `|— 功能卡片: "常用功能"` ("合同", "账单", "管家")
    * `|— 功能卡片: "我的家"` ("在线保修", "我的服务", "入住指南")
    * `|— 功能卡片: "客户服务"` ("关于相寓")
    * `|— 功能卡片: "设置"` (逻辑补充)
    * |— `功能图标: "设置"` (触发 3.5.2)
    * **3.5.1 个人信息页面 (子页面)**
        * `|— 顶部栏` (`返回`, 标题 "个人信息")
        * `|— 个人资料` (`用户头像`, `用户名`, `性别`)
        * `|— 保存` (主按钮)
        * `|— 页脚` (`注销账号`, `《...隐私政策》`, `《用户协议》` 等链接)
    * **3.5.2 设置页面 (子页面)** (逻辑补充)
        * `|— 顶部栏` (`返回`, 标题 "设置")
        * `|— 选项列表`
        * |— `外观模式` (含 `明亮/暗黑/跟随系统` 切换)
        * |— `通知设置`
        * |— `清除缓存`
        * |— `关于版本`
        * `|— 退出登录` (按钮) (触发 1.6)
    * **3.5.3 法律条款详情页 (子页面)**
        * `|— 顶部栏` (`返回`, 动态 `标题`)
        * `|— 主要内容` (滚动的静态文本)
    * **3.5.4 "我的约看" 页面 (子页面)** (逻辑补充)
        * `|— 顶部栏` (`返回`, 标题 "我的约看")
        * `|— 标签页导航` ("待看房", "已看房", "已取消")
        * `|— 约看卡片列表`

---

#### 4. 弹出/覆盖层组件 (Popup/Overlay Components)

* **4.1 房源操作菜单 (Listing Options Menu)**
    * **触发:** `首页` -> `房源卡片` 上的 `...` 按钮
    * **结构:** 弹出式菜单 (`分享`, `隐藏`)。
* **4.2 位置选择面板 (Location Selection Panel)**
    * **触发:** `首页` -> `过滤栏` -> `位置`
    * **结构:** 底部上滑面板 (`热门区域` 标签网格, `按字母顺序列表`, `A-Z 索引`, `确定` 按钮)。
* **4.3 排序方式面板 (Sorting Options Panel)**
    * **触发:** `首页` -> `过滤栏` -> `排序`
    * **结构:** 底部上滑面板 (选项列表: "价格高->低", "最新上架" 等)。
* **4.4 筛选条件面板 (Filter Conditions Panel)**
    * **触发:** `首页` -> `过滤栏` -> `筛选`
    * **结构:** 底部上滑面板 (多组筛选器: `租金`, `入住日期`, `户型`, `配套设施`, `确定` 按钮)。

---

#### 5. 信息层级 (Information Hierarchy)

* **5.1 房源卡片优先级 (列表浏览)**
    * 1.  `房源图片` (视觉吸引力)
    * 2.  `价格` (决策因素)
    * 3.  `地址` 和 `房型元数据` (核心信息)
* **5.2 详情页面优先级 (深入了解)**
    * 1.  `房源图片` (关键视觉)
    * 2.  `价格` 和 `地址` (核心决策)
    * 3.  `房型元数据` 和 `空出日期` (关键参数)
    * 4.  `房源描述` 和 `房源特征` (细节补充)
    * 5.  `开放时间` (行动信息)