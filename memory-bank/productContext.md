# 产品上下文 (Product Context)

**文档状态**: 生存文档 (Living Document)
**最后更新**: 2025-09-15

---

## 核心用户故事 (MVP - P0 优先级)

以 **Lucy**（海外留学生）为代表的核心用户需求：

1. **自动补全区域搜索**: 输入'2000'或'Syd'，系统推荐相关区域，可多选查看房源
2. **高级日期范围筛选**: 筛选特定时间段（如 7月1-15日）可入住的房源
3. **比较与收藏**: 收藏备选方案，登录后在'我的'中心查看，便于家人商量
4. **发起联系**: 锁定房源后点击'联系我们'，专业人士跟进
5. **回顾与发现**: 查看浏览历史，避免遗忘感兴趣的房源
6. **跨平台同步**: 目前为本地同步（localStorage）；跨设备同步为路线图项（需账号绑定与后端支持）

---

## 核心交互流程

### 主要用户路径
1. **首页** (`/`) → 区域搜索 + 日期筛选 → 房源列表实时更新
2. **收藏触发** → 登录提示 → 完成登录 → 自动返回并收藏成功
3. **详情页** (`/details/:id`) → 查看详情 + 自动记录浏览历史 → 收藏/联系操作
4. **个人中心** (`/profile`) → 查看收藏列表 + 浏览历史

### 跨端体验
- **PC端**: FilterTabs 打开分离式专用面板
- **移动端**: 统一 FilterPanel
- **状态同步**: 编辑仅在面板内"应用"后提交到 Pinia 与 URL

### 2025-10-07 战略更新（小程序 → App → Android）
- **平台节奏**: 先上线小程序版，验证流程后再同步到 App 与 Android，所有设计规范以小程序为基线。
- **组件与工具**: 引入 TorUI 作为跨端组件库，并确保在 VS Code 环境下可配置主题与调试。
- **Design Token 行动**: 以颜色、字体、图标、标签、间距为首轮统一对象，提供视觉说明与代码示例。
- **MVP 业务聚焦**: 优先完成房源筛选/排序/搜索-查看-收藏-客服下单，第二阶段才扩展地铁/火车站点与帖子发布/付费通知等增强功能。

---

## 技术约束

所有实现必须遵循 systemPatterns.md 中的"API 设计与契约一致性"规范（详情端点为列表端点的超集）。
