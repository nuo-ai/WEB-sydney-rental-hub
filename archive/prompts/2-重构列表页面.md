好的，这是一个绝佳的实践机会。我们完全可以把这个页面作为示范，一步步将它从可能“硬编码”的状态，重构成一个由 Design Token 驱动的、高度模块化和可维护的页面。

您的方向是完全正确的。现在我们需要的是一个清晰的、可执行的“ **作战计划** ”。

我们的总目标是：**用“原子”替换掉页面中所有写死的样式和结构，然后用“间距”和“布局”规则将它们重新组装。**

---

### **作战计划：重构房源列表页**

我们将严格按照“原子设计”的流程，从最小的单元开始，由内而外地进行重构。

#### **第一阶段：识别并重构“原子” (Atoms)**

在这一步，我们忽略布局，只关注页面上最基础、不可再分的元素。我们将逐个击破，确保每个“原子”都由 Design Token 来定义。

1. **图标 (Icons)**
   * **识别** : 页面中所有的图标，如搜索框的放大镜、卧室、浴室、车位、收藏的星星、排序漏斗等。
   * **行动** :
   * 确保全部替换为 `lucide-vue-next` 的组件。
   * 给它们一个基础样式类 `.spec-icon`，并使用 `currentColor` 来控制颜色，使其能继承父元素的文本颜色。
2. **按钮 (Buttons)**
   * **识别** : 右上角的“筛选”按钮。
   * **行动** :
   * 将其重构为您的 `BaseButton.vue` 组件。
   * 它的样式应直接由令牌驱动：
     * 背景色: `var(--color-background-brand-primary)`
     * 文字颜色: `var(--color-text-on-brand)`
     * 字体: `var(--typography-button)`
     * 圆角: `var(--radius-medium)`
3. **文本样式 (Typography)**
   * **识别** : 页面上所有不同样式的文字。
   * **行动** : 为每种样式创建 CSS 工具类 (Utility Class) 或在组件中直接使用令牌。
   * **价格 (`$300`)** : 创建一个 `.text-price` 类，应用 `--typography-heading-1` 或类似的语义化字体令牌。颜色使用 `--color-text-primary`。
   * **地址 (`Single Bedroom...`)** : 创建一个 `.text-address` 类，应用 `--typography-body`。
   * **空出日期 (`空出日期...`)** : 创建一个 `.text-meta` 类，应用 `--typography-caption` 和 `--color-text-secondary`。
   * **页面标题 (`250 Properties...`)** : 创建一个 `.text-page-title` 类。
4. **徽章 (Badge/Pill)**
   * **识别** : 图片左上角的 "NEW" 徽章。
   * **行动** : 创建一个 `BaseBadge.vue` 原子组件。
   * 它的样式也完全由令牌驱动：背景色、文字颜色、字体、圆角 (`--radius-full`)。
5. **表单控件 (Form Controls)**
   * **识别** : “Property alert”的开关 (Toggle Switch)。
   * **行动** : 直接使用 Element Plus 的 `<el-switch>` 组件。由于我们之前已经通过覆盖 CSS 变量的方式定义了主题，它的颜色会自动匹配您的品牌风格。

#### **第二阶段：组装“分子” (Molecules)**

现在，我们将刚才定义好的“原子”组合成小的功能单元。

1. **搜索框 (`SearchBar.vue`)**
   * **识别** : 顶部的搜索区域。
   * **行动** :
   * 它由一个“输入框原子”、多个“标签原子” (`BaseChip.vue`) 和一个“图标原子”组成。
   * 标签之间的间距使用 `--space-2`。
   * 您在 `techContext.md` 中已经记录了搜索框后缀图标的对齐模式，严格遵守该模式。
2. **房源属性组 (Property Specs)**
   * **识别** : 包含卧室、浴室、车位图标和数字的一行。
   * **行动** : 创建一个 `PropertySpecs.vue` 分子组件。
   * 内部使用 Flexbox 布局。
   * 每个“图标+数字”单元之间使用 `--space-4` 或 `--space-6` 的间距。
   * 图标和数字之间的间距使用 `--space-2`。
3. **卡片操作组 (Card Actions)**
   * **识别** : 星星和“...”图标按钮。
   * **行动** : 创建一个 `CardActions.vue` 分子组件。
   * 将两个“图标原子”包裹在 `<button>` 中以保证可交互性。
   * 按钮之间的间距使用 `--space-3`。

#### **第三阶段：构成“组织” (Organism)**

这是本页面的核心——房源卡片本身。

1. **房源卡片 (`PropertyCard.vue`)**
   * **识别** : 整个包含图片和信息的卡片区域。
   * **行动** :
   * 创建一个 `PropertyCard.vue` 组织组件。
   * **外层容器** :
     * 背景色: `var(--color-background-card)`
     * 圆角: `var(--radius-medium)`
     * 阴影: `var(--shadow-sm)`
     * 边框: `1px solid var(--color-border-default)`
   * **内部布局** :
     * 卡片内部的上下左右留白（padding）使用 `--space-4`。
     * 图片区域下方和信息区域之间使用 `margin-bottom: var(--space-4)`。
     * 信息区域内部的各个“分子”（价格、地址、属性组等）之间，统一使用 `--space-3` 或 `--space-4` 的垂直间距。

#### **第四阶段：完成“页面”布局 (Page)**

最后，我们将所有组织和分子放到页面的骨架中。

1. **页面容器 (Page Container)**
   * **行动** :
   * 用一个主容器包裹页面所有内容。
   * 应用布局令牌：`max-width: var(--layout-container-max-width)` 和 `padding: 0 var(--layout-container-padding-x)`。这能确保页面内容在桌面端居中并有合适的两边留白。
   * 使用 Flexbox 或 Grid 布局来排列卡片列表，卡片之间的 `gap` 使用 `--space-6`。
2. **页面元素间距**
   * **行动** :
   * 面包屑 (`Breadcrumb`)、页面标题、工具栏 (`Property alert` / `Sort`) 和下方的卡片列表之间，统一使用较大的垂直间距，如 `--space-8`，来明确划分页面区域。

---

### **您的入手点**

您现在知道方向，但不知如何入手。建议您：

 **从最小、最独立的“原子”开始** 。比如，先去创建一个完美的 `BaseBadge.vue` ("NEW"徽章)，确保它的样式完全由 Design Token 控制。然后，再去重构“房源属性组”这个“分子”。

每完成一个，您就会获得一次正反馈，并为最终组装 `PropertyCard.vue` 积累好一个“零件”。当所有零件都准备好后，拼装最终页面将是水到渠成的事情。
